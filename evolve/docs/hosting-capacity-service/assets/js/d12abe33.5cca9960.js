"use strict";(self.webpackChunkhosting_capacity_service=self.webpackChunkhosting_capacity_service||[]).push([["9861"],{3946:function(e,s,i){i.r(s),i.d(s,{frontMatter:()=>o,toc:()=>l,default:()=>h,metadata:()=>n,assets:()=>c,contentTitle:()=>d});var n=JSON.parse('{"id":"how-to-guides/data-validation-tools","title":"Data Validation Tools","description":"Overview","source":"@site/versioned_docs/version-0.6.0/how-to-guides/data-validation-tools.mdx","sourceDirName":"how-to-guides","slug":"/how-to-guides/data-validation-tools","permalink":"/evolve/docs/hosting-capacity-service/0.6.0/how-to-guides/data-validation-tools","draft":false,"unlisted":false,"tags":[],"version":"0.6.0","frontMatter":{"id":"data-validation-tools","title":"Data Validation Tools","slug":"/how-to-guides/data-validation-tools","toc_max_heading_level":4}}'),r=i(4848),t=i(4429);let o={id:"data-validation-tools",title:"Data Validation Tools",slug:"/how-to-guides/data-validation-tools",toc_max_heading_level:4},d="Scenario Configuration Validator for Hosting Capacity Model (HCM)",c={},l=[{value:"Overview",id:"overview",level:2},{value:"Purpose",id:"purpose",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Output Files",id:"output-files",level:2},{value:"CSV Output Columns",id:"csv-output-columns",level:2},{value:"Interpreting Results",id:"interpreting-results",level:2},{value:"Successful Validation",id:"successful-validation",level:3},{value:"Failed Validation",id:"failed-validation",level:3},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:2}];function a(e){let s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"scenario-configuration-validator-for-hosting-capacity-model-hcm",children:"Scenario Configuration Validator for Hosting Capacity Model (HCM)"})}),"\n",(0,r.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(s.p,{children:["The Scenario Configuration Validator is a data quality assurance tool for the Hosting Capacity Model (HCM) system. It validates the ",(0,r.jsx)(s.code,{children:"scenario_configuration"})," input table against all related tables to ensure data integrity before running HCM work packages."]}),"\n",(0,r.jsx)(s.h2,{id:"purpose",children:"Purpose"}),"\n",(0,r.jsx)(s.p,{children:"The validator prevents runtime errors in HCM analyses by catching configuration issues such as:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Invalid scenario names or duplicate IDs"}),"\n",(0,r.jsx)(s.li,{children:"References to non-existent allocation IDs or forecast scenarios"}),"\n",(0,r.jsx)(s.li,{children:"Mismatched forecast levels between configuration and actual data"}),"\n",(0,r.jsx)(s.li,{children:"Incorrect probability weightings in allocation strategies"}),"\n",(0,r.jsx)(s.li,{children:"Missing profile references"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Connects"})," to the input database via SSH tunnel"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Loads"})," all reference data (allocation IDs, forecast scenarios, profile IDs) into memory"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Validates"})," each scenario configuration against 8 different validation types"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Outputs"})," detailed results to timestamped CSV file with console summary"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"output-files",children:"Output Files"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Primary output"}),": ",(0,r.jsx)(s.code,{children:"scenario_config_validation_YYYY-MM-DD_HH-MM.csv"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Contains"}),": One row per scenario with all validation results and code counts"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"csv-output-columns",children:"CSV Output Columns"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Column Name"}),(0,r.jsx)(s.th,{children:"Validation Type"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"scenario_id"})}),(0,r.jsx)(s.td,{children:"Identifier"}),(0,r.jsx)(s.td,{children:"The unique scenario identifier being validated"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"scenario_name"})}),(0,r.jsx)(s.td,{children:"Identifier"}),(0,r.jsx)(s.td,{children:"The human-readable scenario name"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"basic_checks"})}),(0,r.jsx)(s.td,{children:"Data Integrity"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"PASS"})," or errors for:",(0,r.jsx)("br",{}),"\u2022 ",(0,r.jsx)(s.code,{children:"scenario_name='base'"})," (forbidden)",(0,r.jsx)("br",{}),"\u2022 Duplicate ",(0,r.jsx)(s.code,{children:"scenario_id"})," values"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"forecast_level_checks"})}),(0,r.jsx)(s.td,{children:"Value Validation"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"PASS"})," or errors for invalid forecast levels.",(0,r.jsx)("br",{}),"Valid options: ",(0,r.jsx)(s.code,{children:"LV_FEEDER"}),", ",(0,r.jsx)(s.code,{children:"FEEDER"}),", ",(0,r.jsx)(s.code,{children:"SUBSTATION"}),", ",(0,r.jsx)(s.code,{children:"SUB_GEOGRAPHICAL_REGION"}),", ",(0,r.jsx)(s.code,{children:"GEOGRAPHICAL_REGION"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"allocation_id_checks"})}),(0,r.jsx)(s.td,{children:"Reference Integrity"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"PASS"})," or errors for missing allocation IDs:",(0,r.jsx)("br",{}),"\u2022 ",(0,r.jsx)(s.code,{children:"pv_allocation_id"})," not in ",(0,r.jsx)(s.code,{children:"input.pv_allocations"}),(0,r.jsx)("br",{}),"\u2022 ",(0,r.jsx)(s.code,{children:"ev_allocation_id"})," not in ",(0,r.jsx)(s.code,{children:"input.ev_allocations"}),(0,r.jsx)("br",{}),"\u2022 ",(0,r.jsx)(s.code,{children:"bess_allocation_id"})," not in ",(0,r.jsx)(s.code,{children:"input.bess_allocations"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"forecast_scenario_checks"})}),(0,r.jsx)(s.td,{children:"Reference Integrity"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"PASS"})," or errors for missing forecast scenarios:",(0,r.jsx)("br",{}),"\u2022 ",(0,r.jsx)(s.code,{children:"pv_forecasts_scenario"})," not in ",(0,r.jsx)(s.code,{children:"input.pv_forecasts"}),(0,r.jsx)("br",{}),"\u2022 ",(0,r.jsx)(s.code,{children:"ev_forecasts_scenario"})," not in ",(0,r.jsx)(s.code,{children:"input.ev_forecasts"}),(0,r.jsx)("br",{}),"\u2022 ",(0,r.jsx)(s.code,{children:"bess_forecasts_scenario"})," not in ",(0,r.jsx)(s.code,{children:"input.bess_forecasts"}),(0,r.jsx)("br",{}),"\u2022 ",(0,r.jsx)(s.code,{children:"demand_forecasts_scenario"})," not in ",(0,r.jsx)(s.code,{children:"input.demand_forecasts"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"cross_validation_checks"})}),(0,r.jsx)(s.td,{children:"Data Consistency"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"PASS"})," or errors for forecast level mismatches:",(0,r.jsx)("br",{}),"Validates that specified forecast levels (",(0,r.jsx)(s.code,{children:"LV_FEEDER"}),", ",(0,r.jsx)(s.code,{children:"FEEDER"}),", etc as per forecast level checks above) actually exist in the relevant forecast scenario data."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"demand_poe_checks"})}),(0,r.jsx)(s.td,{children:"Value Validation"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"PASS"})," or errors for POE validation:",(0,r.jsx)("br",{}),"\u2022 ",(0,r.jsx)(s.code,{children:"demand_forecast_poe"})," must exist in the actual demand forecast data",(0,r.jsx)("br",{}),"\u2022 Must be valid integer format"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"probability_weights_checks"})}),(0,r.jsx)(s.td,{children:"Business Logic"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"PASS"})," or errors for probability weight validation:",(0,r.jsx)("br",{}),"\u2022 Checks that weights sum to 1.0 per feeder for each allocation ID",(0,r.jsx)("br",{}),"\u2022 Groups by ",(0,r.jsx)(s.code,{children:"feeder_code"})," from profile tables"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"profile_existence_checks"})}),(0,r.jsx)(s.td,{children:"Reference Integrity"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"PASS"})," or errors for missing profiles:",(0,r.jsx)("br",{}),"\u2022 Profile IDs referenced in allocations must exist in respective profile tables",(0,r.jsx)("br",{}),"\u2022 Handles empty profile tables gracefully"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"pv_forecast_codes_count"})}),(0,r.jsx)(s.td,{children:"Data Coverage"}),(0,r.jsxs)(s.td,{children:["Number of unique network codes (feeders/substations) in the PV forecast scenario",(0,r.jsx)("br",{}),(0,r.jsx)(s.strong,{children:"0"})," if no scenario specified or scenario doesn't exist"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"ev_forecast_codes_count"})}),(0,r.jsx)(s.td,{children:"Data Coverage"}),(0,r.jsxs)(s.td,{children:["Number of unique network codes in the EV forecast scenario",(0,r.jsx)("br",{}),(0,r.jsx)(s.strong,{children:"0"})," if no scenario specified or scenario doesn't exist"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"bess_forecast_codes_count"})}),(0,r.jsx)(s.td,{children:"Data Coverage"}),(0,r.jsxs)(s.td,{children:["Number of unique network codes in the BESS forecast scenario",(0,r.jsx)("br",{}),(0,r.jsx)(s.strong,{children:"0"})," if no scenario specified or scenario doesn't exist"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"overall_status"})}),(0,r.jsx)(s.td,{children:"Summary"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"PASS"})," if all validation checks pass",(0,r.jsx)("br",{}),(0,r.jsx)(s.strong,{children:"FAIL"})," if any validation check finds issues"]})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"interpreting-results",children:"Interpreting Results"}),"\n",(0,r.jsx)(s.h3,{id:"successful-validation",children:"Successful Validation"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["All validation columns show ",(0,r.jsx)(s.strong,{children:"PASS"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"overall_status"})," shows ",(0,r.jsx)(s.strong,{children:"PASS"})]}),"\n",(0,r.jsx)(s.li,{children:"Code counts show expected network coverage"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"failed-validation",children:"Failed Validation"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Failed validation columns show specific error messages"}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"overall_status"})," shows ",(0,r.jsx)(s.strong,{children:"FAIL"})]}),"\n",(0,r.jsx)(s.li,{children:"Console output provides detailed failure summary"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"common-issues-and-solutions",children:"Common Issues and Solutions"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Issue Type"}),(0,r.jsx)(s.th,{children:"Typical Cause"}),(0,r.jsx)(s.th,{children:"Resolution"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"scenario_name='base' is forbidden"})}),(0,r.jsx)(s.td,{children:"Reserved name used"}),(0,r.jsx)(s.td,{children:"Rename scenario to something else"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"allocation_id does not exist"})}),(0,r.jsx)(s.td,{children:"Typo or missing allocation"}),(0,r.jsx)(s.td,{children:"Check spelling or create missing allocation"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"forecast_scenario does not exist"})}),(0,r.jsx)(s.td,{children:"Missing forecast data"}),(0,r.jsx)(s.td,{children:"Create forecast data or fix scenario reference"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"forecast_level not found in scenario"})}),(0,r.jsx)(s.td,{children:"Level/data mismatch"}),(0,r.jsx)(s.td,{children:"Use correct forecast level or update forecast data"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"feeder weights sum to X, not 1.0"})}),(0,r.jsx)(s.td,{children:"Incorrect probability weights"}),(0,r.jsx)(s.td,{children:"Adjust probability weights to sum to 1.0 per feeder"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"references missing profile_id"})}),(0,r.jsx)(s.td,{children:"Missing profile data"}),(0,r.jsx)(s.td,{children:"Create missing profiles or fix allocation references"})]})]})]})]})}function h(e={}){let{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},4429:function(e,s,i){i.d(s,{R:()=>o,x:()=>d});var n=i(6540);let r={},t=n.createContext(r);function o(e){let s=n.useContext(t);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);