"use strict";(self.webpackChunkhosting_capacity_service=self.webpackChunkhosting_capacity_service||[]).push([["3511"],{5395:function(e,n,r){r.r(n),r.d(n,{metadata:()=>i,default:()=>x,frontMatter:()=>d,contentTitle:()=>l,toc:()=>a,assets:()=>c});var i=JSON.parse('{"id":"reference/sign-conventions","title":"Power Sign Conventions","description":"This section defines exactly how the Hosting Capacity Module (HCM) interprets signs for active power (P), reactive power (Q), and power factor (PF) across three key areas:","source":"@site/docs/reference/sign-conventions.mdx","sourceDirName":"reference","slug":"/reference/sign-conventions","permalink":"/evolve/docs/hosting-capacity-service/next/reference/sign-conventions","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"sign-conventions","title":"Power Sign Conventions","slug":"/reference/sign-conventions","hide_table_of_contents":false},"sidebar":"theSidebar","previous":{"title":"Interventions Options","permalink":"/evolve/docs/hosting-capacity-service/next/reference/interventions-options"},"next":{"title":"Timeseries Data Ingestion","permalink":"/evolve/docs/hosting-capacity-service/next/reference/timeseries-ingestion"}}'),s=r(4848),t=r(8453),o=r(2874);let d={id:"sign-conventions",title:"Power Sign Conventions",slug:"/reference/sign-conventions",hide_table_of_contents:!1},l="Power Sign Conventions and Precedence",c={},a=[{value:"Reference Frame",id:"reference-frame",level:2},{value:"Quick Reference",id:"quick-reference",level:2},{value:"Sign Conventions Summary",id:"sign-conventions-summary",level:2},{value:"Reactive Power Sign Convention",id:"reactive-power-sign-convention",level:3},{value:"Active Power Sign Convention in Overrides",id:"active-power-sign-convention-in-overrides",level:3},{value:"NEM12 Ingestion (Zepben Timeseries Database)",id:"nem12-ingestion-zepben-timeseries-database",level:2},{value:"Common Practice",id:"common-practice",level:3},{value:"Interactions &amp; Precedence",id:"interactions--precedence",level:2},{value:"Reactive Power Data Priority Order",id:"reactive-power-data-priority-order",level:3},{value:"Worked Examples",id:"worked-examples",level:2},{value:"Example A: p_factor on Loads (Base Imports)",id:"example-a-p_factor-on-loads-base-imports",level:3},{value:"Example B: p_factor on Generators (Base Exports)",id:"example-b-p_factor-on-generators-base-exports",level:3},{value:"Example C: Mixed Active/Reactive Overrides",id:"example-c-mixed-activereactive-overrides",level:3},{value:"Cases Covered",id:"cases-covered",level:4},{value:"Configuration Example (Simplified)",id:"configuration-example-simplified",level:4},{value:"Understanding OpenDSS Sign Differences",id:"understanding-opendss-sign-differences",level:2}];function h(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"power-sign-conventions-and-precedence",children:"Power Sign Conventions and Precedence"})}),"\n",(0,s.jsx)(n.p,{children:"This section defines exactly how the Hosting Capacity Module (HCM) interprets signs for active power (P), reactive power (Q), and power factor (PF) across three key areas:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Timeseries ingestion from the Zepben timeseries database (NEM12 channels)"}),"\n",(0,s.jsx)(n.li,{children:"Load overrides in a Work Package config"}),"\n",(0,s.jsx)(n.li,{children:"p_factor settings in the Work Package generator_config"}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"reference-frame",children:"Reference Frame"}),"\n",(0,s.jsxs)(n.p,{children:["All signs used by the HCM are defined ",(0,s.jsx)(n.strong,{children:"at the customer connection point"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Import"})," = the customer ",(0,s.jsx)(n.strong,{children:"draws"})," power from the grid"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Export"})," = the customer ",(0,s.jsx)(n.strong,{children:"delivers"})," power to the grid"]}),"\n"]}),"\n",(0,s.jsxs)(n.admonition,{title:"AEMO Convention Difference",type:"info",children:[(0,s.jsxs)(n.p,{children:["This reference frame differs from ",(0,s.jsx)(n.a,{href:"https://www.aemo.com.au/-/media/files/electricity/nem/retail_and_metering/market_settlement_and_transfer_solutions/2024/mdff-specification-nem12-nem13-v26-clean-final.pdf?rev=c0145cdfe1114a6dad0abad6586c3cf9&sc_lang=en",children:"AEMO's Meter Data File Format Specification NEM12 & NEM13"}),", where:"]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["AEMO uses the ",(0,s.jsx)(n.strong,{children:"grid"})," as the frame of reference (opposite to our customer-centric approach)"]}),"\n",(0,s.jsx)(n.li,{children:'"Import" in AEMO terminology means energy flows from the connection point to the grid'}),"\n",(0,s.jsx)(n.li,{children:'"Export" in AEMO terminology means energy flows from the grid to the connection point'}),"\n"]}),(0,s.jsx)(n.p,{children:'We use the customer as the frame of reference, so our "Import" means the customer draws from the grid, and "Export" means the customer delivers to the grid.'})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"quick-reference",children:"Quick Reference"}),"\n",(0,s.jsxs)(n.admonition,{title:"Cheat Sheet",type:"tip",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Reactive (overrides & PF):"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Q < 0"})," or ",(0,s.jsx)(n.strong,{children:"PF < 0"})," \u21D2 ",(0,s.jsx)(n.strong,{children:"leading / capacitive / generates vars"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Q > 0"})," or ",(0,s.jsx)(n.strong,{children:"PF > 0"})," \u21D2 ",(0,s.jsx)(n.strong,{children:"lagging / inductive / consumes vars"})]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Active overrides:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Loads"}),": +P import, -P export"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Generators"}),": +P export, -P import"]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"NEM12 ingestion:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Unsigned"})," interval values; ",(0,s.jsx)(n.strong,{children:"channel implies direction"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"E"})," = active import (customers using energy)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"B"})," = active export (customer PV systems generation greater than energy use)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Q"})," = reactive import (lagging)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"K"})," = reactive export (leading)"]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"sign-conventions-summary",children:"Sign Conventions Summary"}),"\n",(0,s.jsx)(n.h3,{id:"reactive-power-sign-convention",children:"Reactive Power Sign Convention"}),"\n",(0,s.jsx)(n.p,{children:"Used by both Load Overrides and p_factor settings (applies equally to loads and generators):"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Negative"})," vars or ",(0,s.jsx)(n.strong,{children:"negative"})," PF \u21D2 ",(0,s.jsx)(n.strong,{children:"generate"})," reactive power (",(0,s.jsx)(n.strong,{children:"leading / capacitive"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Positive"})," vars or ",(0,s.jsx)(n.strong,{children:"positive"})," PF \u21D2 ",(0,s.jsx)(n.strong,{children:"consume"})," reactive power (",(0,s.jsx)(n.strong,{children:"lagging / inductive"}),")"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"active-power-sign-convention-in-overrides",children:"Active Power Sign Convention in Overrides"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Load overrides:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"+P"})," = import (consumption)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"-P"})," = export (generation behind the meter)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Generator overrides:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"+P"})," = export (generation)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"-P"})," = import (charging or motoring)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"nem12-ingestion-zepben-timeseries-database",children:"NEM12 Ingestion (Zepben Timeseries Database)"}),"\n",(0,s.jsxs)(n.p,{children:["When Zepben ingests timeseries interval data for use in HCM via NEM12-aligned channels, it assumes the ",(0,s.jsx)(n.strong,{children:'AEMO MDFF "unsigned" convention'}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Interval values are non-negative"}),"; direction is carried by the ",(0,s.jsx)(n.strong,{children:"channel/suffix"})]}),"\n",(0,s.jsx)(n.li,{children:"Negative values are not allowed"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"common-practice",children:"Common Practice"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Provide ",(0,s.jsx)(n.strong,{children:"unsigned"})," interval values for E/B/Q/K channels"]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.strong,{children:"channel suffix determines direction"})," (not the sign)"]}),"\n",(0,s.jsx)(n.li,{children:"HCM reconstructs signed P/Q internally using the rules in this document"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["For more details on timeseries ingestion, see ",(0,s.jsx)(n.a,{href:"./timeseries-ingestion",children:"Timeseries Data Ingestion"}),"."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"interactions--precedence",children:"Interactions & Precedence"}),"\n",(0,s.jsx)(n.h3,{id:"reactive-power-data-priority-order",children:"Reactive Power Data Priority Order"}),"\n",(0,s.jsx)(n.p,{children:"When determining reactive power (VAr) values, the system applies the following priority order:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Load Database Values"})," (Lowest Priority)"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"VAr data from the load database is used as the baseline"}),"\n",(0,s.jsx)(n.li,{children:"Values are taken as magnitudes and direction is interpreted from the channel (E/B/Q/K), not from a sign"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Load Overrides"})," (Medium Priority)"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"load_var"})," or ",(0,s.jsx)(n.code,{children:"gen_var"})," values in ",(0,s.jsx)(n.code,{children:"load_overrides"})," (see LoadTime Parameters in ",(0,s.jsx)(n.a,{href:"./configuration",children:"Configuration Options"}),") override database values"]}),"\n",(0,s.jsx)(n.li,{children:"P and/or Q are applied directly using the sign rules above, replacing any profiles defined within the Zepben Timeseries datastore"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Power Factor Settings"})," (Highest Priority)"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Power factor settings (",(0,s.jsx)(n.code,{children:"p_factor_base_exports"}),", ",(0,s.jsx)(n.code,{children:"p_factor_forecast_pv"}),", ",(0,s.jsx)(n.code,{children:"p_factor_base_imports"}),") override all other sources when specified (non-",(0,s.jsx)(n.code,{children:"null"}),")"]}),"\n",(0,s.jsx)(n.li,{children:"Reactive power is calculated from active power using the specified power factor"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{title:"Example",type:"info",children:(0,s.jsxs)(n.p,{children:["If a load has VAr data in the database, a ",(0,s.jsx)(n.code,{children:"load_var"})," override in the config, ",(0,s.jsx)(n.em,{children:"and"})," ",(0,s.jsx)(n.code,{children:"p_factor_base_imports = 0.95"}),", the final VAr value will be calculated using the 0.95 power factor."]})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"worked-examples",children:"Worked Examples"}),"\n",(0,s.jsxs)(n.p,{children:["The examples below show what you set in config and ",(0,s.jsx)(n.strong,{children:"what HCM models"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"example-a-p_factor-on-loads-base-imports",children:"Example A: p_factor on Loads (Base Imports)"}),"\n",(0,s.jsxs)(o.A,{title:"p_factor Base Imports Behaviour",children:[(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Setting"}),(0,s.jsx)(n.th,{children:"Interpreted PF"}),(0,s.jsx)(n.th,{children:"Modelled Behaviour"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"p_factor_base_imports = +0.95"}),(0,s.jsx)(n.td,{children:"+PF \u21D2 lagging"}),(0,s.jsx)(n.td,{children:"Loads consume reactive power (Q +)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"p_factor_base_imports = -0.95"}),(0,s.jsx)(n.td,{children:"-PF \u21D2 leading"}),(0,s.jsx)(n.td,{children:"Loads generate reactive power (Q -)"})]})]})]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example 1 (JSON snippet):"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "generator_config": {\n    "model": {\n      "p_factor_base_imports": -0.95\n    }\n  }\n}\n'})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Result:"})," All ",(0,s.jsx)(n.strong,{children:"loads"})," are modelled at ",(0,s.jsx)(n.strong,{children:"leading 0.95 PF"}),", generating reactive power."]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example 2 (JSON snippet):"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "generator_config": {\n    "model": {\n      "p_factor_base_imports": 0.90\n    }\n  }\n}\n'})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Result:"})," All ",(0,s.jsx)(n.strong,{children:"loads"})," are modelled at ",(0,s.jsx)(n.strong,{children:"lagging 0.90 PF"}),", consuming reactive power."]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"example-b-p_factor-on-generators-base-exports",children:"Example B: p_factor on Generators (Base Exports)"}),"\n",(0,s.jsxs)(o.A,{title:"p_factor Base Exports Behaviour",children:[(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Setting"}),(0,s.jsx)(n.th,{children:"Interpreted PF"}),(0,s.jsx)(n.th,{children:"Modelled Behaviour"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"p_factor_base_exports = +0.98"}),(0,s.jsx)(n.td,{children:"+PF \u21D2 lagging"}),(0,s.jsx)(n.td,{children:"Generators consume reactive power (Q +)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"p_factor_base_exports = -0.98"}),(0,s.jsx)(n.td,{children:"-PF \u21D2 leading"}),(0,s.jsx)(n.td,{children:"Generators generate reactive power (Q -)"})]})]})]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example 1 (JSON snippet):"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "generator_config": {\n    "model": {\n      "p_factor_base_exports": -0.98\n    }\n  }\n}\n'})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Result:"})," All ",(0,s.jsx)(n.strong,{children:"generators"})," run ",(0,s.jsx)(n.strong,{children:"leading 0.98 PF"}),", generating reactive power."]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Example 2 (JSON snippet):"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "generator_config": {\n    "model": {\n      "p_factor_base_exports": 0.98\n    }\n  }\n}\n'})}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Result:"})," All ",(0,s.jsx)(n.strong,{children:"generators"})," run ",(0,s.jsx)(n.strong,{children:"lagging 0.98 PF"}),", consuming reactive power."]})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"example-c-mixed-activereactive-overrides",children:"Example C: Mixed Active/Reactive Overrides"}),"\n",(0,s.jsxs)(o.A,{title:"Mixed Override Examples with Sign Convention Details",children:[(0,s.jsx)(n.p,{children:"This example demonstrates four common cases using per-connection Load Overrides together with disabling the p_factor power-factor settings. It shows how signs are interpreted consistently across loads and generators:"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Sign Convention Summary:"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Reactive power (Q) & PF (config):"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Negative \u21D2 generation (leading/capacitive)"}),"\n",(0,s.jsx)(n.li,{children:"Positive \u21D2 consumption (lagging/inductive)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Active power (P) overrides:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Loads: +P = import, -P = export"}),"\n",(0,s.jsx)(n.li,{children:"Generators: +P = export, -P = import (e.g., charging)"}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsx)(n.admonition,{title:"Important",type:"caution",children:(0,s.jsxs)(n.p,{children:["PF settings (",(0,s.jsx)(n.code,{children:"p_factor_base_imports"}),", ",(0,s.jsx)(n.code,{children:"p_factor_base_exports"}),") take precedence over any timeseries reactive power profiles defined within the timeseries datastore or the per-connection Q overrides. ",(0,s.jsx)(n.strong,{children:"Omit p_factor settings when using the var overrides"})," (",(0,s.jsx)(n.code,{children:"gen_var_override"})," and ",(0,s.jsx)(n.code,{children:"load_var_override"}),") of the Load Overrides feature."]})}),(0,s.jsx)(n.h4,{id:"cases-covered",children:"Cases Covered"}),(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Conn. ID"}),(0,s.jsx)(n.th,{children:"Overrides Set"}),(0,s.jsx)(n.th,{children:"Interpreted P"}),(0,s.jsx)(n.th,{children:"Interpreted Q"}),(0,s.jsx)(n.th,{children:"Resulting Behaviour"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"700101"}),(0,s.jsx)(n.td,{children:"loadWattsOverride = +4500, loadVarOverride = +1500"}),(0,s.jsx)(n.td,{children:"Load imports 4.5 kW"}),(0,s.jsx)(n.td,{children:"Load consumes 1.5 kvar (lagging)"}),(0,s.jsx)(n.td,{children:"Typical inductive load (import P, lag Q)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"700102"}),(0,s.jsx)(n.td,{children:"genWattsOverride = +3200, genVarOverride = -800"}),(0,s.jsx)(n.td,{children:"Generator exports 3.2 kW"}),(0,s.jsx)(n.td,{children:"Generator generates 0.8 kvar (leading)"}),(0,s.jsx)(n.td,{children:"PV/DER exporting with capacitive VArs"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"700103"}),(0,s.jsx)(n.td,{children:"genWattsOverride = -2000, genVarOverride = +400"}),(0,s.jsx)(n.td,{children:"Generator imports 2.0 kW (charging)"}),(0,s.jsx)(n.td,{children:"Generator consumes 0.4 kvar (lagging)"}),(0,s.jsx)(n.td,{children:"Battery charging with lagging VArs"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"700104"}),(0,s.jsx)(n.td,{children:"loadWattsOverride = -500, loadVarOverride = -200"}),(0,s.jsx)(n.td,{children:"Load exports 0.5 kW (behind-the-meter gen)"}),(0,s.jsx)(n.td,{children:"Load generates 0.2 kvar (leading)"}),(0,s.jsx)(n.td,{children:"Net export site with capacitive VArs"})]})]})]}),(0,s.jsx)(n.h4,{id:"configuration-example-simplified",children:"Configuration Example (Simplified)"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "common": {\n    "loadTime": {\n      "type": "fixedTime",\n      "loadTime": "2025-01-15T13:00:00+10",\n      "loadOverrides": {\n        "700101": {\n          "loadWattsOverride": [4500.0],\n          "genWattsOverride": [0.0],\n          "loadVarOverride": [1500.0],\n          "genVarOverride": [0.0]\n        },\n        "700102": {\n          "loadWattsOverride": [0.0],\n          "genWattsOverride": [3200.0],\n          "loadVarOverride": [0.0],\n          "genVarOverride": [-800.0]\n        },\n        "700103": {\n          "loadWattsOverride": [0.0],\n          "genWattsOverride": [-2000.0],\n          "loadVarOverride": [0.0],\n          "genVarOverride": [400.0]\n        },\n        "700104": {\n          "loadWattsOverride": [-500.0],\n          "genWattsOverride": [0.0],\n          "loadVarOverride": [-200.0],\n          "genVarOverride": [0.0]\n        }\n      }\n    }\n  },\n  "generator": {\n    "model": {\n      // Standard model configuration\n      // Note: Omit p_factor settings when using var overrides\n      "pFactorForecastPv": 1.0\n      // ... other model config parameters ...\n    },\n    "solve": {\n      // Standard solve configuration\n      // ... solve config parameters ...\n    },\n    "rawResults": {\n      // Standard raw results configuration\n      // ... raw results config parameters ...\n    }\n  },\n  "resultProcessor": {\n    // Standard result processor configuration\n    // ... result processor config parameters ...\n  }\n}\n'})}),(0,s.jsx)(n.admonition,{title:"Full Configuration",type:"info",children:(0,s.jsxs)(n.p,{children:["This example shows only the load override configuration. For complete generator, solve, and result processor configurations, see ",(0,s.jsx)(n.a,{href:"./configuration",children:"Configuration Options"}),"."]})})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"understanding-opendss-sign-differences",children:"Understanding OpenDSS Sign Differences"}),"\n",(0,s.jsx)(n.admonition,{title:"For Advanced Users",type:"warning",children:(0,s.jsx)(n.p,{children:"If you examine raw OpenDSS files, signs may differ from your HCM configuration. This is expected - HCM automatically translates between conventions."})}),"\n",(0,s.jsxs)(o.A,{title:"OpenDSS Internal Sign Conventions and Translation",children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"How OpenDSS Represents Power"})}),(0,s.jsx)(n.p,{children:"OpenDSS uses element-referenced signs that differ by equipment type:"}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Generators / PVSystem / Storage (DER):"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"+kvar"})," = vars generated/injected (out of the element)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"-kvar"})," = vars absorbed (into the element)"]}),"\n",(0,s.jsxs)(n.li,{children:['This is the "generator convention" (',(0,s.jsx)(n.a,{href:"https://opendss.epri.com/Properties9.html",children:"more details"}),")"]}),"\n"]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Loads (when viewing powers):"})}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Most APIs/reports return powers ",(0,s.jsx)(n.strong,{children:"into the element"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"+kvar"})," = absorption (inductive)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"-kvar"})," = generation (capacitive)"]}),"\n"]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," Some OpenDSS state variables report power flowing ",(0,s.jsx)(n.strong,{children:"out"})," of elements (e.g., ",(0,s.jsx)(n.code,{children:"kvarOut"}),"), which flips signs."]}),(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Why This Matters"})}),(0,s.jsxs)(n.p,{children:["When you set a ",(0,s.jsx)(n.strong,{children:"negative PF"})," in HCM for a PV system, you may see ",(0,s.jsx)(n.strong,{children:"+kvar"})," in raw OpenDSS files. This is correct because:"]}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"HCM uses customer-perspective signs"})," (intuitive for configuration)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"OpenDSS uses element-perspective signs"})," (solver native convention)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"HCM translates automatically"})," - your intended physical behaviour is preserved"]}),"\n"]}),(0,s.jsx)(n.p,{children:"The translation ensures that:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Your configuration uses consistent, intuitive signs"}),"\n",(0,s.jsx)(n.li,{children:"The solver receives values in its expected format"}),"\n",(0,s.jsx)(n.li,{children:"The physical behaviour you specified is correctly modelled"}),"\n"]})]}),"\n",(0,s.jsx)(n.hr,{})]})}function x(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},2874:function(e,n,r){r.d(n,{A:()=>t});var i=r(4848),s=r(6540);function t(e){let{title:n,children:r,id:t,isExpandedAll:o}=e,[d,l]=(0,s.useState)(!1),[c,a]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{null!=o&&l(o)},[o]),(0,s.useEffect)(()=>{let e=()=>{a("dark"===document.documentElement.dataset.theme)};e();let n=new MutationObserver(e);return n.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>n.disconnect()},[]),(0,i.jsxs)("div",{className:"white-background",style:{marginBottom:"1em",backgroundColor:c?"#18191A":void 0,color:c?"#e0e0e0":void 0},children:[(0,i.jsxs)("div",{onClick:()=>l(!d),style:{cursor:"pointer",fontWeight:"bold",marginBottom:"0.5em",backgroundColor:c?"#2a3b4d":"#c3e9f7",color:c?"#fff":"#000",padding:"0.5em",borderRadius:"6px"},children:[n," ",d?"\u25B2":"\u25BC"]}),d&&(0,i.jsx)("div",{children:r})]})}},8453:function(e,n,r){r.d(n,{R:()=>o,x:()=>d});var i=r(6540);let s={},t=i.createContext(s);function o(e){let n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);