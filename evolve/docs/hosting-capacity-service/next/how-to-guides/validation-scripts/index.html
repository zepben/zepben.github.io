<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-how-to-guides/validation-scripts" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Validation Scripts | Hosting Capacity Service</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://zepben.github.io/evolve/docs/hosting-capacity-service/next/how-to-guides/validation-scripts><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docsearch:project content=hosting-capacity-service><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Validation Scripts | Hosting Capacity Service"><meta data-rh=true name=description content="Data validation scripts are provided as-is without formal support. They are intended to test data validation as we develop more formal data validation tools."><meta data-rh=true property=og:description content="Data validation scripts are provided as-is without formal support. They are intended to test data validation as we develop more formal data validation tools."><link data-rh=true rel=icon href=/evolve/docs/hosting-capacity-service/img/favicon.ico><link data-rh=true rel=canonical href=https://zepben.github.io/evolve/docs/hosting-capacity-service/next/how-to-guides/validation-scripts><link data-rh=true rel=alternate href=https://zepben.github.io/evolve/docs/hosting-capacity-service/next/how-to-guides/validation-scripts hreflang=en><link data-rh=true rel=alternate href=https://zepben.github.io/evolve/docs/hosting-capacity-service/next/how-to-guides/validation-scripts hreflang=x-default><link data-rh=true rel=preconnect href=https://3K6D3DR52K-dsn.algolia.net crossorigin=anonymous><link rel=preconnect href=https://www.google-analytics.com><link rel=preconnect href=https://www.googletagmanager.com><script async src="https://www.googletagmanager.com/gtag/js?id=G-JG9JB2RSST"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JG9JB2RSST",{})</script><link rel=search type=application/opensearchdescription+xml title="Hosting Capacity Service" href=/evolve/docs/hosting-capacity-service/opensearch.xml><link rel=stylesheet href=/evolve/docs/hosting-capacity-service/assets/css/styles.13589df5.css><script src=/evolve/docs/hosting-capacity-service/assets/js/runtime~main.570a5ea5.js defer></script><script src=/evolve/docs/hosting-capacity-service/assets/js/main.49d25e37.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/evolve/docs/hosting-capacity-service/img/logo.svg><link rel=preload as=image href=/evolve/docs/hosting-capacity-service/img/logo-dark.svg><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a href=https://www.zepben.com/ target=_blank rel="noopener noreferrer" class=navbar__brand><div class=navbar__logo><img src=/evolve/docs/hosting-capacity-service/img/logo.svg alt=Zepben class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/evolve/docs/hosting-capacity-service/img/logo-dark.svg alt=Zepben class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a href=https://zepben.github.io/evolve/docs target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Evolve</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/evolve/docs/hosting-capacity-service/>Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href=/evolve/docs/hosting-capacity-service/release-notes>Release Notes</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/evolve/docs/hosting-capacity-service/next/how-to-guides/validation-scripts>Next</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/evolve/docs/hosting-capacity-service/next/how-to-guides/validation-scripts>Next</a><li><a class=dropdown__link href=/evolve/docs/hosting-capacity-service/0.6.0/>0.6.0</a><li><a class=dropdown__link href=/evolve/docs/hosting-capacity-service/0.5.1/>0.5.1</a><li><a class=dropdown__link href=/evolve/docs/hosting-capacity-service/0.5.0/>0.5.0</a><li><a class=dropdown__link href=/evolve/docs/hosting-capacity-service/0.0.0/>0.0.0</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role=alert><div>This is unreleased documentation for <!-- -->Hosting Capacity Service<!-- --> <b>Next</b> version.</div><div class=margin-top--md>For up-to-date documentation, see the <b><a href=/evolve/docs/hosting-capacity-service/0.6.0/>latest version</a></b> (<!-- -->0.6.0<!-- -->).</div></div><div class=docItemContainer_Djhp><article><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Data Validation Scripts for Hosting Capacity Model (HCM)</h1></header>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>Unsupported</div><div class=admonitionContent_BuS1><p>Data validation scripts are provided as-is without formal support. They are intended to test data validation as we develop more formal data validation tools.</div></div>
<h1>1. Scenario Validator - Comprehensive Documentation</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=overview>Overview<a href=#overview class=hash-link aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p><strong>File:</strong> <code>scenario_validator.py</code></p>
<p>The Scenario Validator is an integrated validation tool that combines three validators to ensure database integrity and work package readiness before HCM execution.</p>
<p><strong>The three validators are:</strong></p>
<ol>
<li><strong>Scenario Configuration Validator</strong> - Validates scenario setup in <code>scenario_configuration</code> table</li>
<li><strong>Profile Completeness Validator</strong> - Validates DER profile data quality</li>
<li><strong>Profile Availability Validator</strong> - Validates work package can execute with required profiles</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=validation-modes>Validation Modes<a href=#validation-modes class=hash-link aria-label="Direct link to Validation Modes" title="Direct link to Validation Modes">​</a></h3>
<p><strong>Database-Wide Validation (Validators 1+2):</strong>
Validates all scenarios and profiles in the database without requiring a work package.</p>
<p><strong>Full Validation (Validators 1+2+3):</strong>
Validates database integrity AND confirms a specific work package can execute.</p>
<p><strong>Work Package Filtering:</strong>
When enabled, only validates scenarios and profiles relevant to a specific work package, making validation faster and more focused.</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token key atrule">validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">filter_to_work_package</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Only check data relevant to work package</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=quick-start>Quick Start<a href=#quick-start class=hash-link aria-label="Direct link to Quick Start" title="Direct link to Quick Start">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=1-configure-the-validator>1. Configure the Validator<a href=#1-configure-the-validator class=hash-link aria-label="Direct link to 1. Configure the Validator" title="Direct link to 1. Configure the Validator">​</a></h3>
<p>Edit <code>scenario_validator_config.yml</code>:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token key atrule">database</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">connection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">host</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"your-database-host"</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">port</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5432</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"your_database_name"</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"your_username"</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"your_password"</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">timeout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">300</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key atrule">validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Choose which validators to run</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_config_validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_profile_completeness</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_availability_validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Requires work_package.path</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Optional: Only validate data relevant to work package (faster)</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">filter_to_work_package</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key atrule">work_package</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Optional: Only needed for availability validation</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token null important">null</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># or "my_work_package.json"</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=2-run-the-validator>2. Run the Validator<a href=#2-run-the-validator class=hash-link aria-label="Direct link to 2. Run the Validator" title="Direct link to 2. Run the Validator">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">python scenario_validator.py</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=3-review-output>3. Review Output<a href=#3-review-output class=hash-link aria-label="Direct link to 3. Review Output" title="Direct link to 3. Review Output">​</a></h3>
<p>The validator generates separate CSV files for each validator that runs:</p>
<ul>
<li><code>scenario_config_validation_YYYYMMDD_HHMMSS.csv</code></li>
<li><code>profile_completeness_validation_YYYYMMDD_HHMMSS.csv</code></li>
<li><code>profile_availability_validation_{work_package_name}_YYYYMMDD_HHMMSS.csv</code></li>
</ul>
<p>All files from the same run share the same timestamp.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=validator-1-scenario-configuration-validator>Validator 1: Scenario Configuration Validator<a href=#validator-1-scenario-configuration-validator class=hash-link aria-label="Direct link to Validator 1: Scenario Configuration Validator" title="Direct link to Validator 1: Scenario Configuration Validator">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=what-it-does>What It Does<a href=#what-it-does class=hash-link aria-label="Direct link to What It Does" title="Direct link to What It Does">​</a></h3>
<p>Validates the <code>scenario_configuration</code> input table against all related reference tables to ensure scenario setups are complete and correct before HCM execution.</p>
<p><strong>Key validations include:</strong></p>
<ul>
<li>Scenario naming and ID uniqueness</li>
<li>Reference integrity (allocation IDs, forecast scenarios, profile IDs)</li>
<li>Data consistency across forecast levels</li>
<li>Business logic validation (probability weights, POE values)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=how-to-use>How to Use<a href=#how-to-use class=hash-link aria-label="Direct link to How to Use" title="Direct link to How to Use">​</a></h3>
<p>Enable in config:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token key atrule">validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_config_validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><br></span></code></pre></div></div>
<p>The validator automatically:</p>
<ol>
<li>Connects to the input database</li>
<li>Loads all reference data into memory</li>
<li>Runs 8 validation checks on each scenario</li>
<li>Outputs results to timestamped CSV file</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=understanding-the-results>Understanding the Results<a href=#understanding-the-results class=hash-link aria-label="Direct link to Understanding the Results" title="Direct link to Understanding the Results">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=core-information>Core Information<a href=#core-information class=hash-link aria-label="Direct link to Core Information" title="Direct link to Core Information">​</a></h4>
<ul>
<li><strong>scenario_id</strong> - Unique scenario identifier</li>
<li><strong>scenario_name</strong> - Human-readable scenario name</li>
<li><strong>overall_status</strong> - <strong>PASS</strong> (all checks pass) or <strong>FAIL</strong> (issues found)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=validation-checks>Validation Checks<a href=#validation-checks class=hash-link aria-label="Direct link to Validation Checks" title="Direct link to Validation Checks">​</a></h4>
<table><thead><tr><th>Check Type<th>What It Validates<th>Pass/Fail Indicators<tbody><tr><td><strong>basic_checks</strong><td>Scenario naming and uniqueness<td><code>scenario_name='base'</code> forbidden <br> No duplicate <code>scenario_id</code> values<tr><td><strong>forecast_level_checks</strong><td>Valid forecast aggregation levels<td>Must be one of: <code>LV_FEEDER</code>, <code>FEEDER</code>, <code>SUBSTATION</code>, <code>SUB_GEOGRAPHICAL_REGION</code>, <code>GEOGRAPHICAL_REGION</code><tr><td><strong>allocation_id_checks</strong><td>Allocation table references exist<td><code>pv_allocation_id</code>, <code>ev_allocation_id</code>, <code>bess_allocation_id</code> must exist in respective allocation tables<tr><td><strong>forecast_scenario_checks</strong><td>Forecast scenario references exist<td><code>pv_forecasts_scenario</code>, <code>ev_forecasts_scenario</code>, <code>bess_forecasts_scenario</code>, <code>demand_forecasts_scenario</code> must exist<tr><td><strong>cross_validation_checks</strong><td>Forecast level consistency<td>Specified forecast level must have actual data in the forecast scenario<tr><td><strong>demand_poe_checks</strong><td>Probability of Exceedance validity<td><code>demand_forecast_poe</code> must exist in demand forecast data<tr><td><strong>probability_weights_checks</strong><td>Allocation probability math<td>Weights must sum to 1.0 per feeder in each allocation<tr><td><strong>profile_existence_checks</strong><td>Profile reference integrity<td>All profile IDs in allocations must exist in profile tables</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=data-coverage-metrics>Data Coverage Metrics<a href=#data-coverage-metrics class=hash-link aria-label="Direct link to Data Coverage Metrics" title="Direct link to Data Coverage Metrics">​</a></h4>
<ul>
<li><strong>pv_forecast_codes_count</strong> - Number of network codes in PV forecast scenario</li>
<li><strong>ev_forecast_codes_count</strong> - Number of network codes in EV forecast scenario</li>
<li><strong>bess_forecast_codes_count</strong> - Number of network codes in BESS forecast scenario</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=configuration-settings>Configuration Settings<a href=#configuration-settings class=hash-link aria-label="Direct link to Configuration Settings" title="Direct link to Configuration Settings">​</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token key atrule">validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">scenario_config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">forbidden_scenario_names</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">"base"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">forecast_levels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"FEEDER"</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">probability_tolerance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.001</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=troubleshooting-common-issues>Troubleshooting Common Issues<a href=#troubleshooting-common-issues class=hash-link aria-label="Direct link to Troubleshooting Common Issues" title="Direct link to Troubleshooting Common Issues">​</a></h3>
<table><thead><tr><th>Error Message<th>Cause<th>Solution<tbody><tr><td><code>scenario_name='base' is forbidden</code><td>Reserved scenario name used<td>Rename scenario to avoid 'base'<tr><td><code>allocation_id does not exist</code><td>Missing or mistyped allocation ID<td>Verify allocation exists in reference table<tr><td><code>forecast_scenario does not exist</code><td>Missing forecast data<td>Create forecast or fix scenario reference<tr><td><code>forecast_level not found in scenario</code><td>Data/configuration mismatch<td>Use correct forecast level or update forecast data<tr><td><code>feeder weights sum to X, not 1.0</code><td>Incorrect probability distribution<td>Adjust allocation weights to sum to 1.0 per feeder<tr><td><code>references missing profile_id</code><td>Missing profile data<td>Create missing profiles or fix allocation references</table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=validator-2-profile-completeness-validator>Validator 2: Profile Completeness Validator<a href=#validator-2-profile-completeness-validator class=hash-link aria-label="Direct link to Validator 2: Profile Completeness Validator" title="Direct link to Validator 2: Profile Completeness Validator">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=what-it-does-1>What It Does<a href=#what-it-does-1 class=hash-link aria-label="Direct link to What It Does" title="Direct link to What It Does">​</a></h3>
<p>Validates DER profile data tables (<code>pv_profiles</code>, <code>ev_profiles</code>, <code>bess_profiles</code>) to ensure power time-series arrays are complete, correctly formatted, and contain realistic values.</p>
<p><strong>Key validations include:</strong></p>
<ul>
<li>Power array completeness and length verification</li>
<li>Normalized power value range checking</li>
<li>Technology-specific metadata validation</li>
<li>Statistical analysis of profile characteristics</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=how-to-use-1>How to Use<a href=#how-to-use-1 class=hash-link aria-label="Direct link to How to Use" title="Direct link to How to Use">​</a></h3>
<p>Enable in config:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token key atrule">validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_profile_completeness</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><br></span></code></pre></div></div>
<p>The validator automatically:</p>
<ol>
<li>Connects to the input database</li>
<li>Processes each DER type (PV, EV, BESS) separately</li>
<li>Validates profile metadata and power arrays</li>
<li>Outputs results to timestamped CSV file</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=understanding-the-results-1>Understanding the Results<a href=#understanding-the-results-1 class=hash-link aria-label="Direct link to Understanding the Results" title="Direct link to Understanding the Results">​</a></h3>
<p>Each profile gets one row in the output CSV with validation results and statistics:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=core-information-1>Core Information<a href=#core-information-1 class=hash-link aria-label="Direct link to Core Information" title="Direct link to Core Information">​</a></h4>
<ul>
<li><strong>der_type</strong> - Technology type (PV, EV, or BESS)</li>
<li><strong>profile_id</strong> - Unique profile identifier</li>
<li><strong>overall_status</strong> - <strong>PASS</strong> (all checks pass) or <strong>FAIL</strong> (issues found)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=validation-checks-1>Validation Checks<a href=#validation-checks-1 class=hash-link aria-label="Direct link to Validation Checks" title="Direct link to Validation Checks">​</a></h4>
<table><thead><tr><th>Check Type<th>What It Validates<th>Technology-Specific Rules<tbody><tr><td><strong>basic_checks</strong><td>Metadata field validity<td><strong>All:</strong> <code>phases</code> must be 1 or 3<br><strong>PV:</strong> <code>dc_ac_ratio</code> between 1.0-2.0<br><strong>BESS:</strong> <code>round_trip_efficiency</code> between 0.0-1.0<tr><td><strong>array_length_checks</strong><td>Power array completeness<td>Expected 17,520 intervals (standard year) or 17,568 (leap year)<br>Reports shortfall if incomplete<tr><td><strong>array_validation_checks</strong><td>Power value ranges<td><strong>PV:</strong> 0.0 to 1.0 ± tolerance<br><strong>EV/BESS:</strong> -1.0 to 1.0 ± tolerance<br>Accounts for floating-point precision</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=statistical-summary>Statistical Summary<a href=#statistical-summary class=hash-link aria-label="Direct link to Statistical Summary" title="Direct link to Statistical Summary">​</a></h4>
<ul>
<li><strong>min_value</strong> - Minimum power value in array</li>
<li><strong>max_value</strong> - Maximum power value in array</li>
<li><strong>mean_value</strong> - Average power value</li>
<li><strong>median_value</strong> - Median power value</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=configuration-settings-1>Configuration Settings<a href=#configuration-settings-1 class=hash-link aria-label="Direct link to Configuration Settings" title="Direct link to Configuration Settings">​</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token key atrule">validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">profile_completeness</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">valid_phases</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">pv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">dc_ac_ratio_min</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">dc_ac_ratio_max</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">array</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">valid_intervals_per_year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">17520</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">17568</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">length_tolerance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">normalization</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">pv_min</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">pv_max</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">ev_min</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">ev_max</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">bess_min</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">-1.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">bess_max</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">tolerance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.01</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=troubleshooting-common-issues-1>Troubleshooting Common Issues<a href=#troubleshooting-common-issues-1 class=hash-link aria-label="Direct link to Troubleshooting Common Issues" title="Direct link to Troubleshooting Common Issues">​</a></h3>
<table><thead><tr><th>Error Pattern<th>Cause<th>Solution<tbody><tr><td><code>dc_ac_ratio=0.8 should be between 1.0 and 2.0</code><td>Unrealistic PV inverter sizing<td>Verify system specifications and data collection<tr><td><code>expected=17520|actual=17000|shortfall=520</code><td>Missing time intervals<td>Check for data collection gaps, ensure full year coverage<tr><td><code>expected=17520|actual=0|shortfall=17520</code><td>Empty power array<td>Profile data not loaded properly, check import process<tr><td><code>max_value=1.050000, above normalized range</code><td>Normalization errors<td>Review power normalization method and rated capacity<tr><td><code>min_value=-0.050000, below PV tolerance</code><td>PV showing negative generation<td>Check sensor calibration and data processing<tr><td><code>round_trip_efficiency=1.2 must be between 0.0 and 1.0</code><td>Invalid BESS efficiency<td>Verify battery specifications and calculation methods</table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=validator-3-profile-availability-validator>Validator 3: Profile Availability Validator<a href=#validator-3-profile-availability-validator class=hash-link aria-label="Direct link to Validator 3: Profile Availability Validator" title="Direct link to Validator 3: Profile Availability Validator">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=what-it-does-2>What It Does<a href=#what-it-does-2 class=hash-link aria-label="Direct link to What It Does" title="Direct link to What It Does">​</a></h3>
<p>Validates that required profiles exist for all year/feeder/scenario combinations defined in a work package. This ensures a work package can execute before HCM runs begin.</p>
<p><strong>Key validations include:</strong></p>
<ul>
<li>Scenario-to-allocation mapping verification</li>
<li>Profile existence for specific year/feeder combinations</li>
<li>Lock constraint validation (lock_year, lock_feeder)</li>
<li>Coverage across all three DER types (PV, EV, BESS)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=how-to-use-2>How to Use<a href=#how-to-use-2 class=hash-link aria-label="Direct link to How to Use" title="Direct link to How to Use">​</a></h3>
<p>Enable in config and provide work package:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token key atrule">validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_availability_validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key atrule">work_package</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"my_work_package.json"</span><br></span></code></pre></div></div>
<p><strong>Work Package Format:</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token property">"work_package_name"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"my_work_package"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token property">"feeders"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">"WP1226"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"AB1245"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"MG1204"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token property">"forecast_years"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">2030</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2035</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2040</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token property">"scenarios"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">"scenario_1"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"scenario_2"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token property">"load_time"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token property">"start"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"2024-07-01T10:00:00.00Z"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token property">"end"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"2025-07-01T10:00:00.00Z"</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p><strong>Note:</strong> The validator also supports the "crunched" format from the Work Package Manager UI. Both formats are automatically detected.</p>
<p>The validator automatically:</p>
<ol>
<li>Loads work package configuration</li>
<li>Maps scenarios to allocation IDs from <code>scenario_configuration</code></li>
<li>Loads all profile mappings for each allocation</li>
<li>Validates each year/feeder/scenario combination</li>
<li>Outputs results to timestamped CSV file with work package name</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=understanding-the-results-2>Understanding the Results<a href=#understanding-the-results-2 class=hash-link aria-label="Direct link to Understanding the Results" title="Direct link to Understanding the Results">​</a></h3>
<p>Each year/feeder/scenario combination gets one row in the output CSV:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=core-information-2>Core Information<a href=#core-information-2 class=hash-link aria-label="Direct link to Core Information" title="Direct link to Core Information">​</a></h4>
<ul>
<li><strong>der_type</strong> - Technology type (PV, EV, or BESS)</li>
<li><strong>scenario</strong> - Scenario name from work package</li>
<li><strong>year</strong> - Forecast year from work package</li>
<li><strong>feeder</strong> - Feeder code from work package</li>
<li><strong>allocation_id</strong> - The allocation ID used by this scenario</li>
<li><strong>status</strong> - <strong>PASS</strong> (viable profile exists) or <strong>FAIL</strong> (no viable profile)</li>
<li><strong>issues</strong> - Description of problem (if failed)</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=what-viable-profile-means>What "Viable Profile" Means<a href=#what-viable-profile-means class=hash-link aria-label='Direct link to What "Viable Profile" Means' title='Direct link to What "Viable Profile" Means'>​</a></h4>
<p>A profile is viable for a combination if:</p>
<ul>
<li>Profile exists in the allocation's profile mappings</li>
<li>If <code>lock_year = True</code>: Profile has <code>represents_year = scenario_year</code></li>
<li>If <code>lock_feeder = True</code>: Profile has <code>feeder_code = scenario_feeder</code></li>
<li>At least ONE profile in the allocation meets all lock constraints</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=console-output-example>Console Output Example<a href=#console-output-example class=hash-link aria-label="Direct link to Console Output Example" title="Direct link to Console Output Example">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">=== PV SUMMARY ===</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">Total: 1591 | Passed: 1577 (99.1%) | Failed: 14 (0.9%)</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">Failures by scenario:</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  f2_central: 14/1591</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=troubleshooting-common-issues-2>Troubleshooting Common Issues<a href=#troubleshooting-common-issues-2 class=hash-link aria-label="Direct link to Troubleshooting Common Issues" title="Direct link to Troubleshooting Common Issues">​</a></h3>
<table><thead><tr><th>Error Message<th>Cause<th>Solution<tbody><tr><td><code>Scenario not found or has no {der_type}_allocation_id</code><td>Scenario not in <code>scenario_configuration</code> or allocation_id is NULL<td>Add scenario to table with valid allocation_id<tr><td><code>Allocation has no profiles</code><td>allocation_id exists but has no entries in <code>{der_type}_allocations</code> table<td>Add profile mappings to allocation table<tr><td><code>No viable profiles for year=2030, feeder='KC1247'</code><td>No profile meets the lock constraints for this combination<td>Either:<br>1. Create profiles for that year/feeder, OR<br>2. Set <code>lock_year=False</code> or <code>lock_feeder=False</code> in allocation</table>
<p><strong>Understanding Lock Constraints:</strong></p>
<ul>
<li><code>lock_year=True</code>: Restricts profile selection to only profiles where <code>represents_year</code> matches the scenario year</li>
<li><code>lock_feeder=True</code>: Restricts profile selection to only profiles where <code>feeder_code</code> matches the scenario feeder</li>
<li>If BOTH are false: Any profile in the allocation can be used (most flexible)</li>
<li>If BOTH are true: Profile must match both year AND feeder (most restrictive)</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=overall-workflow>Overall Workflow<a href=#overall-workflow class=hash-link aria-label="Direct link to Overall Workflow" title="Direct link to Overall Workflow">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=typical-usage-pattern>Typical Usage Pattern<a href=#typical-usage-pattern class=hash-link aria-label="Direct link to Typical Usage Pattern" title="Direct link to Typical Usage Pattern">​</a></h3>
<p><strong>Step 1: Database Health Check</strong></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token key atrule">validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_config_validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_profile_completeness</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_availability_validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">filter_to_work_package</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check entire database</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key atrule">work_package</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token null important">null</span><br></span></code></pre></div></div>
<p>This validates your entire database integrity without requiring a work package.</p>
<p><strong>Step 2: Fix Issues</strong>
Review the CSV outputs and fix any FAIL entries in the database.</p>
<p><strong>Step 3: Work Package Validation (Focused)</strong></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token key atrule">validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_config_validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_profile_completeness</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_availability_validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">filter_to_work_package</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Only check relevant data (faster)</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key atrule">work_package</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"my_work_package.json"</span><br></span></code></pre></div></div>
<p>This runs all three validators but only checks data relevant to the specific work package. Faster turnaround.</p>
<p><strong>Alternative Step 3: Work Package Validation (Comprehensive)</strong></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token key atrule">validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_config_validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_profile_completeness</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_availability_validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">filter_to_work_package</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check entire database</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key atrule">work_package</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"my_work_package.json"</span><br></span></code></pre></div></div>
<p>This validates the entire database AND the work package. Slower but catches all issues.</p>
<p><strong>Step 4: Execute Work Package</strong>
If all validators pass, the work package is ready for HCM execution.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=console-output>Console Output<a href=#console-output class=hash-link aria-label="Direct link to Console Output" title="Direct link to Console Output">​</a></h3>
<p>The validator provides a summary at the end:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">============================================================</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">OVERALL VALIDATION SUMMARY</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">============================================================</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">Scenario Config: 3/5 passed (3.4s)</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">Profile Completeness: 4806/4998 passed (38.0s)</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">Profile Availability: 18/18 passed (3.2s)</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">Total time: 44.9s</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">============================================================</span><br></span></code></pre></div></div>
<p>This shows:</p>
<ul>
<li>How many checks passed in each validator</li>
<li>Timing for each validator</li>
<li>Total execution time</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=interpreting-results>Interpreting Results<a href=#interpreting-results class=hash-link aria-label="Direct link to Interpreting Results" title="Direct link to Interpreting Results">​</a></h3>
<p><strong>All validators PASS:</strong>
✅ Database is healthy and work package is ready to execute</p>
<p><strong>Config or Completeness FAIL:</strong>
⚠️ Database has issues that need fixing regardless of work package</p>
<p><strong>Availability FAIL (but Config/Completeness PASS):</strong>
⚠️ Database is healthy but this specific work package can't execute. Either:</p>
<ul>
<li>Fix lock constraints in allocations</li>
<li>Create missing profiles for required year/feeder combinations</li>
<li>Choose different scenarios in the work package</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=configuration-reference>Configuration Reference<a href=#configuration-reference class=hash-link aria-label="Direct link to Configuration Reference" title="Direct link to Configuration Reference">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=full-configuration-example>Full Configuration Example<a href=#full-configuration-example class=hash-link aria-label="Direct link to Full Configuration Example" title="Direct link to Full Configuration Example">​</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token key atrule">database</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">connection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">host</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"your-database-host"</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">port</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5432</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"your_database_name"</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"your_username"</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"your_password"</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">timeout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">300</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key atrule">work_package</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"yur_work_package_config.json"</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Set to JSON file path for availability validation</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key atrule">validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_config_validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_profile_completeness</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">run_availability_validation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># When work_package is provided, only validate scenarios/profiles relevant to that work package</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">filter_to_work_package</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">scenario_config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">forbidden_scenario_names</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">"base"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">forecast_levels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"FEEDER"</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">probability_tolerance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.001</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">profile_completeness</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">valid_phases</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">pv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">dc_ac_ratio_min</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">dc_ac_ratio_max</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">array</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">valid_intervals_per_year</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">17520</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">17568</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">length_tolerance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">normalization</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">pv_min</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">pv_max</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">ev_min</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">ev_max</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">bess_min</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">-1.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">bess_max</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">      </span><span class="token key atrule">tolerance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.01</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key atrule">output</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">timestamp_format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"%Y%m%d_%H%M%S"</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=dependencies>Dependencies<a href=#dependencies class=hash-link aria-label="Direct link to Dependencies" title="Direct link to Dependencies">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">pip install pandas psycopg2-binary pyyaml</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=files>Files<a href=#files class=hash-link aria-label="Direct link to Files" title="Direct link to Files">​</a></h2>
<ul>
<li><strong><code>scenario_validator.py</code></strong> - Main validation script (885 lines)</li>
<li><strong><code>scenario_validator_config.yml</code></strong> - Configuration file</li>
<li><strong><code>sample_work_package.json</code></strong> - Example work package format</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2-load-data-coverage-tool>2. Load Data Coverage Tool<a href=#2-load-data-coverage-tool class=hash-link aria-label="Direct link to 2. Load Data Coverage Tool" title="Direct link to 2. Load Data Coverage Tool">​</a></h2>
<p><strong>File:</strong> <code>load-data-coverage-tool.py</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=what-it-does-3>What It Does<a href=#what-it-does-3 class=hash-link aria-label="Direct link to What It Does" title="Direct link to What It Does">​</a></h3>
<p>Validates smart meter data completeness by cross-referencing expected usage points from the EWB network model against actual measurement data in the database. Identifies meters with missing or incomplete readings over a specified time period.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Fetches all expected identifiers from EWB network hierarchy (NMIs or mRIDs)</li>
<li>Queries database for actual 30-minute interval reading counts</li>
<li>Calculates coverage percentages for each identifier</li>
<li>Outputs results in JSON or CSV format</li>
<li>Supports both Endeavour Energy (NMI-based) and Essential Energy (mRID-based)</li>
</ul>
<p><strong>Execution flow:</strong></p>
<ol>
<li>Query database for existing readings (~2-3 minutes)</li>
<li>Fetch feeders from EWB network (~30 seconds)</li>
<li>Extract identifiers from all feeders via multiprocessing (may take 20 minutes up to several hours depending on network size and type)</li>
<li>Cross-reference and identify missing/incomplete data</li>
<li>Calculate percentages and generate reports</li>
<li>Display enhanced summary statistics</li>
</ol>
<p>Subsequent runs with the same date range skip data generation and only recalculate percentages (very fast).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=how-to-use-3>How to Use<a href=#how-to-use-3 class=hash-link aria-label="Direct link to How to Use" title="Direct link to How to Use">​</a></h3>
<p><strong>Prerequisites:</strong></p>
<ul>
<li>Python packages: <code>psycopg[binary]</code>, <code>pyyaml</code>, <code>zepben.ewb</code>, <code>tqdm</code></li>
<li>Configuration file: <code>load-data-coverage-tool-config.yml</code></li>
</ul>
<p><strong>Configuration steps:</strong></p>
<ol>
<li><strong>Database settings</strong> - Verify connection parameters:</li>
</ol>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">   </span><span class="token key atrule">db</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">     </span><span class="token key atrule">host</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">'load-db.network.zb.energy'</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">     </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">'hc'</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">     </span><span class="token key atrule">user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">'hc'</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">     </span><span class="token key atrule">password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">'your-password'</span><br></span></code></pre></div></div>
<ol start=2>
<li><strong>Analysis time period</strong> - Set the date range:</li>
</ol>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">   </span><span class="token key atrule">db</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">     </span><span class="token key atrule">timestamp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">       </span><span class="token key atrule">start</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token datetime number" style="color:rgb(247, 140, 108)">2025-09-01T00:00:00+10:00</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">       </span><span class="token key atrule">finish</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token datetime number" style="color:rgb(247, 140, 108)">2025-09-30T00:00:00+10:00</span><br></span></code></pre></div></div>
<ol start=3>
<li><strong>EWB authentication</strong> - Ensure valid access token:</li>
</ol>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">   </span><span class="token key atrule">ewb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">     </span><span class="token key atrule">host</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">'network.ewb.server'</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">     </span><span class="token key atrule">access_token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"your-token"</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">     </span><span class="token key atrule">rpc_port</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">443</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">     </span><span class="token key atrule">useMridAsCPI</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># false for Endeavour, true for Essential</span><br></span></code></pre></div></div>
<ol start=4>
<li><strong>Output format</strong> - Choose JSON or CSV:</li>
</ol>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">   </span><span class="token key atrule">output</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">     </span><span class="token key atrule">format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">'json'</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Options: 'json' or 'csv'</span><br></span></code></pre></div></div>
<p><strong>Run the script:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">python load-data-coverage-tool.py</span><br></span></code></pre></div></div>
<p><strong>Output files</strong> are automatically generated based on the configured date range:</p>
<ul>
<li><code>coverage_YYYY-MM-DD_to_YYYY-MM-DD.[json|csv]</code> - Raw reading counts</li>
<li><code>processed_coverage_YYYY-MM-DD_to_YYYY-MM-DD.[json|csv]</code> - Coverage percentages (0.0-1.0)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=understanding-the-results-3>Understanding the Results<a href=#understanding-the-results-3 class=hash-link aria-label="Direct link to Understanding the Results" title="Direct link to Understanding the Results">​</a></h3>
<p>The script outputs an enhanced summary with five categories:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">======================================================================</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">DATA COVERAGE SUMMARY (2025-09-01 to 2025-09-30)</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">======================================================================</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">Total identifiers analyzed:  1,834,917</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">Complete coverage (100%):    0 (0.0%)</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">Near-complete (95-99%):      698,118 (38.0%)</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">Partial coverage (1-94%):    4,622 (0.3%)</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">Very low coverage (&lt;1%):     4,622 (0.3%)</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">No data (0 readings):        1,132,177 (61.7%)</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">======================================================================</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">Data Quality Metrics:</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  Expected readings per identifier: 1,392</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  Identifiers with any data: 702,740</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  Actual readings - Min: 1, Max: 1345, Median: 1345</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  Average coverage for meters with data: 96.5%</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">======================================================================</span><br></span></code></pre></div></div>
<p><strong>Category definitions:</strong></p>
<table><thead><tr><th>Category<th>Coverage Range<th>Meaning<tbody><tr><td><strong>Complete</strong><td>100%<td>Meter has all expected readings<tr><td><strong>Near-complete</strong><td>95-99%<td>Meter has most data, minor gaps only<tr><td><strong>Partial</strong><td>1-94%<td>Meter has significant data gaps<tr><td><strong>Very low</strong><td>less than 1% (but more than 0)<td>Meter has minimal readings (rounds to 0%)<tr><td><strong>No data</strong><td>0 readings<td>No readings found (basic meters or collection failure)</table>
<p><strong>Network-specific notes:</strong></p>
<p><em>Endeavour Energy (<code>useMridAsCPI: false</code>):</em>
<em>Essential Energy (<code>useMridAsCPI: true</code>):</em></p>
<p><strong>Data quality metrics:</strong></p>
<ul>
<li><strong>Expected readings</strong>: Calculated from time range (48 readings/day for 30-min intervals)</li>
<li><strong>Min/Max/Median</strong>: Distribution of actual reading counts</li>
<li><strong>Average coverage</strong>: Mean coverage percentage for meters with any data</li>
<li><strong>Sparse data warning</strong>: Triggered if median coverage less than 1%</li>
</ul>
<p><strong>Output file formats:</strong></p>
<p><em>JSON example:</em></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token property">"NMI123456"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">   </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 100% coverage</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token property">"NMI789012"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.97</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 97% coverage (near-complete)</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token property">"NMI345678"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// No data</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p><em>CSV example:</em></p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token plain">Identifier,Value</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">NMI123456,1.0</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">NMI789012,0.97</span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">NMI345678,0.0</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=troubleshooting-common-issues-3>Troubleshooting Common Issues<a href=#troubleshooting-common-issues-3 class=hash-link aria-label="Direct link to Troubleshooting Common Issues" title="Direct link to Troubleshooting Common Issues">​</a></h3>
<table><thead><tr><th>Issue<th>Cause<th>Solution<tbody><tr><td>Script reruns full extraction despite existing files<td>Output filename doesn't match date range in config<td>Verify config dates match existing output files; delete old files if date range changed<tr><td>Very slow execution (>1 hour)<td>Essential Energy network or network/EWB connection issues<td>Essential takes 2-3 hours normally; check connectivity if slower; multiprocessing uses all CPU cores<tr><td>"Config file not found" error<td>Running from wrong directory<td>Ensure <code>load-data-coverage-tool-config.yml</code> is in same directory as script<tr><td>Invalid output format warning<td>Typo in config <code>output.format</code><td>Must be exactly <code>'json'</code> or <code>'csv'</code> (case-insensitive)<tr><td>All meters show very low/no coverage<td>Wrong <code>useMridAsCPI</code> setting<td>Use <code>false</code> for Endeavour, <code>true</code> for Essential<tr><td>Sparse data warning for Essential<td>Normal for Essential Energy<td>Essential currently has incomplete data collection; check with colleague for expected date ranges</table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=configuration-reference-1>Configuration Reference<a href=#configuration-reference-1 class=hash-link aria-label="Direct link to Configuration Reference" title="Direct link to Configuration Reference">​</a></h3>
<p><strong>Complete config example:</strong></p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#bfc7d5;--prism-background-color:#292d3e><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style=color:#bfc7d5;background-color:#292d3e><code class=codeBlockLines_e6Vv><span class=token-line style=color:#bfc7d5><span class="token key atrule">db</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">host</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">'load-db.future-grid.endeavour.zb.energy'</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">'hc'</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">'hc'</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">password</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">'your-password'</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">timestamp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">start</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token datetime number" style="color:rgb(247, 140, 108)">2025-09-01T00:00:00+10:00</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">    </span><span class="token key atrule">finish</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token datetime number" style="color:rgb(247, 140, 108)">2025-09-30T00:00:00+10:00</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key atrule">ewb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">host</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">'future-grid.endeavour.zb.energy'</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">access_token</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"your-token"</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">rpc_port</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">443</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">useMridAsCPI</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># CRITICAL: false for Endeavour, true for Essential</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain"></span><span class="token key atrule">output</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class=token-line style=color:#bfc7d5><span class="token plain">  </span><span class="token key atrule">format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">'json'</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Options: 'json' or 'csv'</span><br></span></code></pre></div></div>
<hr></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#overview class="table-of-contents__link toc-highlight">Overview</a><ul><li><a href=#validation-modes class="table-of-contents__link toc-highlight">Validation Modes</a></ul><li><a href=#quick-start class="table-of-contents__link toc-highlight">Quick Start</a><ul><li><a href=#1-configure-the-validator class="table-of-contents__link toc-highlight">1. Configure the Validator</a><li><a href=#2-run-the-validator class="table-of-contents__link toc-highlight">2. Run the Validator</a><li><a href=#3-review-output class="table-of-contents__link toc-highlight">3. Review Output</a></ul><li><a href=#validator-1-scenario-configuration-validator class="table-of-contents__link toc-highlight">Validator 1: Scenario Configuration Validator</a><ul><li><a href=#what-it-does class="table-of-contents__link toc-highlight">What It Does</a><li><a href=#how-to-use class="table-of-contents__link toc-highlight">How to Use</a><li><a href=#understanding-the-results class="table-of-contents__link toc-highlight">Understanding the Results</a><ul><li><a href=#core-information class="table-of-contents__link toc-highlight">Core Information</a><li><a href=#validation-checks class="table-of-contents__link toc-highlight">Validation Checks</a><li><a href=#data-coverage-metrics class="table-of-contents__link toc-highlight">Data Coverage Metrics</a></ul><li><a href=#configuration-settings class="table-of-contents__link toc-highlight">Configuration Settings</a><li><a href=#troubleshooting-common-issues class="table-of-contents__link toc-highlight">Troubleshooting Common Issues</a></ul><li><a href=#validator-2-profile-completeness-validator class="table-of-contents__link toc-highlight">Validator 2: Profile Completeness Validator</a><ul><li><a href=#what-it-does-1 class="table-of-contents__link toc-highlight">What It Does</a><li><a href=#how-to-use-1 class="table-of-contents__link toc-highlight">How to Use</a><li><a href=#understanding-the-results-1 class="table-of-contents__link toc-highlight">Understanding the Results</a><ul><li><a href=#core-information-1 class="table-of-contents__link toc-highlight">Core Information</a><li><a href=#validation-checks-1 class="table-of-contents__link toc-highlight">Validation Checks</a><li><a href=#statistical-summary class="table-of-contents__link toc-highlight">Statistical Summary</a></ul><li><a href=#configuration-settings-1 class="table-of-contents__link toc-highlight">Configuration Settings</a><li><a href=#troubleshooting-common-issues-1 class="table-of-contents__link toc-highlight">Troubleshooting Common Issues</a></ul><li><a href=#validator-3-profile-availability-validator class="table-of-contents__link toc-highlight">Validator 3: Profile Availability Validator</a><ul><li><a href=#what-it-does-2 class="table-of-contents__link toc-highlight">What It Does</a><li><a href=#how-to-use-2 class="table-of-contents__link toc-highlight">How to Use</a><li><a href=#understanding-the-results-2 class="table-of-contents__link toc-highlight">Understanding the Results</a><ul><li><a href=#core-information-2 class="table-of-contents__link toc-highlight">Core Information</a><li><a href=#what-viable-profile-means class="table-of-contents__link toc-highlight">What "Viable Profile" Means</a></ul><li><a href=#console-output-example class="table-of-contents__link toc-highlight">Console Output Example</a><li><a href=#troubleshooting-common-issues-2 class="table-of-contents__link toc-highlight">Troubleshooting Common Issues</a></ul><li><a href=#overall-workflow class="table-of-contents__link toc-highlight">Overall Workflow</a><ul><li><a href=#typical-usage-pattern class="table-of-contents__link toc-highlight">Typical Usage Pattern</a><li><a href=#console-output class="table-of-contents__link toc-highlight">Console Output</a><li><a href=#interpreting-results class="table-of-contents__link toc-highlight">Interpreting Results</a></ul><li><a href=#configuration-reference class="table-of-contents__link toc-highlight">Configuration Reference</a><ul><li><a href=#full-configuration-example class="table-of-contents__link toc-highlight">Full Configuration Example</a></ul><li><a href=#dependencies class="table-of-contents__link toc-highlight">Dependencies</a><li><a href=#files class="table-of-contents__link toc-highlight">Files</a><li><a href=#2-load-data-coverage-tool class="table-of-contents__link toc-highlight">2. Load Data Coverage Tool</a><ul><li><a href=#what-it-does-3 class="table-of-contents__link toc-highlight">What It Does</a><li><a href=#how-to-use-3 class="table-of-contents__link toc-highlight">How to Use</a><li><a href=#understanding-the-results-3 class="table-of-contents__link toc-highlight">Understanding the Results</a><li><a href=#troubleshooting-common-issues-3 class="table-of-contents__link toc-highlight">Troubleshooting Common Issues</a><li><a href=#configuration-reference-1 class="table-of-contents__link toc-highlight">Configuration Reference</a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 Zeppelin Bend Pty. Ltd.</div></div></div></footer></div>