"use strict";(self.webpackChunkewb_sdk_python=self.webpackChunkewb_sdk_python||[]).push([["6961"],{68170:function(e,t,a){a.r(t),a.d(t,{frontMatter:()=>d,toc:()=>l,default:()=>c,metadata:()=>s,assets:()=>o,contentTitle:()=>r});var s=JSON.parse('{"id":"sdk-ewb-file-paths","title":"EWB Database Paths","description":"The Energy Workbench Server(EWB) uses a defined directory structure and naming convention for locating the various databases it is requested to load data from within its \\"data path\\".","source":"@site/docs/ewb_file_paths.mdx","sourceDirName":".","slug":"/sdk-ewb-file-paths","permalink":"/evolve/docs/ewb-sdk-python/next/sdk-ewb-file-paths","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"sdk-ewb-file-paths","title":"EWB Database Paths"},"sidebar":"someSidebar","previous":{"title":"Protection Relays","permalink":"/evolve/docs/ewb-sdk-python/next/sdk-protection"},"next":{"title":"Query Network State Client","permalink":"/evolve/docs/ewb-sdk-python/next/query-network-state-client"}}'),n=a(74848),i=a(84429);a(33021),a(72207);let d={id:"sdk-ewb-file-paths",title:"EWB Database Paths"},r,o={},l=[{value:"Initializing <code>EwbDataFilePaths</code>",id:"initializing-ewbdatafilepaths",level:3},{value:"Retrieving Database File Paths",id:"retrieving-database-file-paths",level:3},{value:"Searching for Databases",id:"searching-for-databases",level:3}];function h(e){let t={code:"code",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:['The Energy Workbench Server(EWB) uses a defined directory structure and naming convention for locating the various databases it is requested to load data from within its "data path".\n',(0,n.jsx)(t.code,{children:"EwbDataFilePaths"})," is a class for working with the file locations used by EWB."]}),"\n",(0,n.jsxs)(t.p,{children:["The basic structure for date based database files is ",(0,n.jsx)(t.code,{children:"<base_dir>/<model_date>/<model_date>-<database_type>.sqlite"}),":"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"/sample/ewb/ewb_data/4444-05-06/4444-05-06-customer.sqlite\n"})}),"\n",(0,n.jsxs)(t.p,{children:["The basic structure for static database files is ",(0,n.jsx)(t.code,{children:"<base_dir>/<database_type>.sqlite"}),":"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"/sample/ewb/ewb_data/load-aggregator-mbd.sqlite\n"})}),"\n",(0,n.jsxs)(t.h3,{id:"initializing-ewbdatafilepaths",children:["Initializing ",(0,n.jsx)(t.code,{children:"EwbDataFilePaths"})]}),"\n",(0,n.jsxs)(t.p,{children:["An instance of ",(0,n.jsx)(t.code,{children:"EwbDataFilePaths"}),' represents a single EWB "data path". This data path is provided to the constructor via ',(0,n.jsx)(t.code,{children:"base_dir"}),". If the directory provided via ",(0,n.jsx)(t.code,{children:"base_dir"}),"\ndoes not exist, ",(0,n.jsx)(t.code,{children:"EwbDataFilePaths"})," can create it if ",(0,n.jsx)(t.code,{children:"create_path"})," is set to ",(0,n.jsx)(t.code,{children:"True"})," (Default: ",(0,n.jsx)(t.code,{children:"False"}),")."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-python",children:'from zepben.ewb import EwbDataFilePaths\nfrom pathlib import Path\n\ndata_path = Path("/path/to/ewb_data/")\ndatabase_location = EwbDataFilePaths(data_path, create_path=False)\n\ndata_path = Path("/path/to/second_set/")\ndatabase_location = EwbDataFilePaths(data_path, create_path=True)\n'})}),"\n",(0,n.jsx)(t.h3,{id:"retrieving-database-file-paths",children:"Retrieving Database File Paths"}),"\n",(0,n.jsxs)(t.p,{children:["EwbDataFilePaths provides methods to generate file paths for each type of database used by EWB. Date based databases require a ",(0,n.jsx)(t.code,{children:"Date"})," to be provided.\nNote: ",(0,n.jsx)(t.code,{children:"EwbDataFilePaths"})," will return the expected path for the provided ",(0,n.jsx)(t.code,{children:"database_type"})," and ",(0,n.jsx)(t.code,{children:"date"})," regardless of whether it exists or not."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-python",children:'from zepben.ewb import EwbDataFilePaths\nfrom pathlib import Path\nfrom datetime import date\n\ndata_path = Path("/path/to/ewb_data/")\newb_data = EwbDataFilePaths(data_path)\n\nnew_date = Date(2024, 8, 3)\nexpected_path_to_network_database = ewb_data.network_model(new_date)\nexpected_path_to_diagram_database = ewb_data.diagram(new_date)\n\nexpected_path_to_weather_reading_db = ewb_data.weather_reading()\n\nsecond_date = Date(2024, 11, 12)\nsecond_network_database_path = ewb_data.network_model(second_date)\n\n'})}),"\n",(0,n.jsx)(t.h3,{id:"searching-for-databases",children:"Searching for Databases"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"EwbDataFilePaths"})," contains search functionality to locate existing databases on disk."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-python",children:'from zepben.ewb import EwbDataFilePaths\nfrom pathlib import Path\nfrom datetime import date\n\ndata_path = Path("/path/to/ewb_data/")\newb_data = EwbDataFilePaths(data_path)\n\n# List all the dates for which exist network databases in the data path\nlist_of_available_dates = ewb_data.get_network_model_databases()\n\n# Find the first date for which exists a customer database before 2011-09-10\nclosest_date_before = ewb_data.find_closest(Database.CUSTOMER, target_date=Date(2011, 9, 10))\n\n'})})]})}function c(e={}){let{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},72207:function(e,t,a){a(74848),a(96540)},33021:function(e,t,a){a(74848),a(96540),a(98864)},84429:function(e,t,a){a.d(t,{R:()=>d,x:()=>r});var s=a(96540);let n={},i=s.createContext(n);function d(e){let t=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);