<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-0.21.0 plugin-docs plugin-id-default docs-doc-id-sdk-services">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">CIM Services | Evolve SDK (Python)</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zepben.github.io/evolve/docs/python-sdk/0.21.0/sdk-services"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:project" content="python-sdk"><meta data-rh="true" name="docusaurus_version" content="0.21.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.21.0"><meta data-rh="true" name="docsearch:version" content="0.21.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.21.0"><meta data-rh="true" property="og:title" content="CIM Services | Evolve SDK (Python)"><meta data-rh="true" name="description" content="Now that you are able to create a data model, you need something to manage the objects."><meta data-rh="true" property="og:description" content="Now that you are able to create a data model, you need something to manage the objects."><link data-rh="true" rel="icon" href="/evolve/docs/python-sdk/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://zepben.github.io/evolve/docs/python-sdk/0.21.0/sdk-services"><link data-rh="true" rel="alternate" href="https://zepben.github.io/evolve/docs/python-sdk/0.21.0/sdk-services" hreflang="en"><link data-rh="true" rel="alternate" href="https://zepben.github.io/evolve/docs/python-sdk/0.21.0/sdk-services" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://3K6D3DR52K-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JG9JB2RSST"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JG9JB2RSST",{})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Evolve SDK (Python)" href="/evolve/docs/python-sdk/opensearch.xml"><link rel="stylesheet" href="/evolve/docs/python-sdk/assets/css/styles.d69042d4.css">
<link rel="preload" href="/evolve/docs/python-sdk/assets/js/runtime~main.41d98a20.js" as="script">
<link rel="preload" href="/evolve/docs/python-sdk/assets/js/main.92879cb8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.zepben.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/evolve/docs/python-sdk/img/logo.svg" alt="Zepben" class="themedImage_ToTc themedImage--light_HNdA"><img src="/evolve/docs/python-sdk/img/logo-dark.svg" alt="Zepben" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a href="https://zepben.github.io/evolve/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Evolve</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/evolve/docs/python-sdk/">Docs</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/evolve/docs/python-sdk/release-notes">Release Notes</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/evolve/docs/python-sdk/0.21.0/">0.21.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/evolve/docs/python-sdk/next/sdk-services">Next</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.41.2/sdk-services">0.41.2</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.41.1/sdk-services">0.41.1</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.41.0/sdk-services">0.41.0</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.40.0/sdk-services">0.40.0</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.39.0/sdk-services">0.39.0</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.38.0/sdk-services">0.38.0</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.37.4/sdk-services">0.37.4</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.37.0/sdk-services">0.37.0</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.36.0/sdk-services">0.36.0</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.35.0/sdk-services">0.35.0</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.34.0/sdk-services">0.34.0</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.33.0/sdk-services">0.33.0</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.32.0/sdk-services">0.32.0</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.29.0/sdk-services">0.29.0</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.27.0/sdk-services">0.27.0</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.26.0/sdk-services">0.26.0</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.25.0/sdk-services">0.25.0</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.24.0/sdk-services">0.24.0</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.23.0/sdk-services">0.23.0</a></li><li><a class="dropdown__link" href="/evolve/docs/python-sdk/0.22.0/sdk-services">0.22.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/evolve/docs/python-sdk/0.21.0/sdk-services">0.21.0</a></li></ul></div><a href="https://github.com/zepben/evolve-sdk-python" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/evolve/docs/python-sdk/0.21.0/">Data Model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/evolve/docs/python-sdk/0.21.0/sdk-services">CIM Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/evolve/docs/python-sdk/0.21.0/sdk-tracing">Tracing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/evolve/docs/python-sdk/0.21.0/sdk-persistence">Persisting Models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/evolve/docs/python-sdk/0.21.0/sdk-consumer">Requesting Models</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Evolve SDK (Python)<!-- --> <b>0.21.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/evolve/docs/python-sdk/0.41.2/sdk-services">latest version</a></b> (<!-- -->0.41.2<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/evolve/docs/python-sdk/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">CIM Services</span><meta itemprop="position" content="1"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 0.21.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>CIM Services</h1></header><p>Now that you are able to create a data model, you need something to manage the objects.
This is where we provide a set of classes, which we call services, to do this.</p><p>The services basically act as a container for your model. However, they provide some features which make it much nicer
to use than a typical map / dictionary type data container to store your identified objects. The SDK provides the
following services</p><ul><li>NetworkService</li><li>CustomerService</li><li>DiagramService</li></ul><p>Each of these services manage a specific subset of identified objects. This subset will hopefully be somewhat obvious
based on the name of each service. If you would like to know why there a multiple services for different objects types
you can read more about it <a href="#why-multiple-services">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="common-service-functionality">Common Service functionality<a href="#common-service-functionality" class="hash-link" aria-label="Direct link to Common Service functionality" title="Direct link to Common Service functionality">​</a></h2><p>Because services work with <a href="http://zepben.bitbucket.io/cim/cim100/iec61970/base/core/identifiedobject/" target="_blank" rel="noopener noreferrer">identified objects</a>
they can provide some common level of functionality. This functionality can be found in the base class <code>BaseService</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-and-removing-objects">Adding and Removing Objects<a href="#adding-and-removing-objects" class="hash-link" aria-label="Direct link to Adding and Removing Objects" title="Direct link to Adding and Removing Objects">​</a></h3><p>The <code>BaseService.add</code> method can be used to add objects to the service. For each service type there is a set of supported classes,
and thus <code>add</code> will only work for these types. Note that in some cases where objects are indexed differently other <code>add</code> style methods
will be present, which should be utilised to allow efficient querying of the types they support. (e.g add_diagram_object in DiagramService)</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> zepben</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">evolve </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> NetworkService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Breaker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Junction</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> IdentifiedObject</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> NetworkService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">breaker </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Breaker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">breaker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Note you can only add types that are intended for the corresponding service, for example, the following will fail on add:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">diagram </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Diagram</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">diagram</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># throws exception.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="object-retrieval">Object Retrieval<a href="#object-retrieval" class="hash-link" aria-label="Direct link to Object Retrieval" title="Direct link to Object Retrieval">​</a></h3><p>There are a few ways we provide to get objects back out of a service. The most obvious one is by MRID:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> zepben</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">evolve </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> NetworkService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Breaker</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> NetworkService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Breaker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;breaker1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">breaker </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;breaker1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Qualifying the type yields a minor performance optimisation.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">breaker </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;breaker1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Breaker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Implementations of <code>BaseService</code> may have more dedicated methods which support more forms of retrieval.</p><p>You can also get collections of objects back out of the service. The power here is you can get objects from anywhere
in the CIM class hierarchy. Due to the internal data structures used by the services, using these functions is more
efficient than looping over all objects in the service and checking if they are of the required type.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> zepben</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">evolve </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> NetworkService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Breaker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Junction</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> ConductingEquipment</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> NetworkService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Breaker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Junction</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># service.objects() can be used to get a generator over the objects in the service, and supports selecting by type.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> obj </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># generator over all objects in service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># do stuff with obj</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> obj </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ConductingEquipment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># generator over all objects in service subclassing ConductingEquipment</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># do stuff with obj</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> obj </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Breaker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># generator over all objects in service of type Breaker (in this case the one Breaker we added)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    obj</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">set_open</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="network-service">Network Service<a href="#network-service" class="hash-link" aria-label="Direct link to Network Service" title="Direct link to Network Service">​</a></h2><p>The network service works with objects related to the physical asset model. That means all
<a href="http://zepben.bitbucket.io/cim/evolve/iec61970/base/core/powersystemresource/" target="_blank" rel="noopener noreferrer">PowerSystemResource</a> types, but also
data related types such as <a href="http://zepben.bitbucket.io/cim/evolve/iec61968/assets/assetinfo/" target="_blank" rel="noopener noreferrer">AssetInfo</a> and
<a href="http://zepben.bitbucket.io/cim/evolve/iec61968/common/location/" target="_blank" rel="noopener noreferrer">Location</a>.</p><p>The network service also generates an index between power system resources and terminals and their corresponding
measurements. When you add a <a href="http://zepben.bitbucket.io/cim/evolve/iec61970/base/meas/measurement/" target="_blank" rel="noopener noreferrer">Measurement</a>
to the service, it indexes it against the <code>power_system_resource_mrid</code> or the <code>terminal_mrid</code> associated with the measurement.
You can then get all measurements associated with a power system resource or a terminal via its MRID via the lookup on
the service:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> zepben</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">evolve </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> NetworkService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Analog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Accumulator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Measurement</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> NetworkService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">amps </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Analog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">power_system_resource_mrid</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ASWITCH&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">count </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Accumulator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">power_system_resource_mrid</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ASWITCH&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">amps</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">count</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Gets both the analog and the accumulator</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">get_measurements</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ASWITCH&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Measurement</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Will get just the analog</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">get_measurements</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ASWITCH&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Analog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note if you change the <code>power_system_resource_mrid</code> or <code>terminal_mrid</code> set on the measurement after it has been added to the
service, it is not re-indexed automatically. Currently you need to to remove the measurement and re-add it to the service.
However this should rarely be an issue as a measurement is unlikely to ever change the device it is measuring, so as long
as the association is set before adding to the service it is unlikely to be a problem.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="customer-service">Customer Service<a href="#customer-service" class="hash-link" aria-label="Direct link to Customer Service" title="Direct link to Customer Service">​</a></h2><p>The customer service work with objects related to customers and their agreements they may have with actors in the
network. At this point in time it provides no further specialised functionality.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="diagram-service">Diagram Service<a href="#diagram-service" class="hash-link" aria-label="Direct link to Diagram Service" title="Direct link to Diagram Service">​</a></h2><p>The diagram service work with objects related to diagrams associated with identified objects.
It also provides a lookup to be able to get the <a href="http://zepben.bitbucket.io/cim/evolve/iec61970/base/diagramlayout/diagramobject/" target="_blank" rel="noopener noreferrer">DiagramObjects</a> associated with any
identified object. Specifically:</p><ul><li>If the MRID is a diagram object, a list with just the diagram object is returned.</li><li>If the MRID is a <a href="http://zepben.bitbucket.io/cim/evolve/iec61970/base/diagramlayout/diagram/" target="_blank" rel="noopener noreferrer">Diagram</a> all diagram
objects belonging to that diagram are returned.</li><li>If the MRID is any other identified object, the diagram objects for that identified objects are returned.</li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> zepben</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">evolve </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> DiagramService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Diagram</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> DiagramObject</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> DiagramService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">a_diagram </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Diagram</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">do1 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> DiagramObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">diagram</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">a_diagram</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> identified_object_mrid</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;aSwitch&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> a_diagram</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add_diagram_object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">do2 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> DiagramObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">diagram</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">a_diagram</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> identified_object_mrid</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;aSwitch&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> a_diagram</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add_diagram_object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">do3 </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> DiagramObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">diagram</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">a_diagram</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> identified_object_mrid</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;aSwitch&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> a_diagram</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add_diagram_object</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">this</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">do1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">do2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">do3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Contains [do1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">objs </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">get_diagram_objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">do1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">mrid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Contains [do1, do2, do3]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">objs </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">get_diagram_objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">a_diagram</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">mrid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Contains [do1, do2]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">objs </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">get_diagram_objects</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;aSwitch&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This works by indexing the <code>identified_object_mrid</code> when the diagram object is added to the service. Note however,
that setting the <code>identified_object_mrid</code> after the diagram object is added will not cause it to be re-indexed automatically.
Currently you need to to remove the diagram object and re-add it to the service.
This should rarely be an issue however, as a diagram object is unlikely to ever change the identified object it is
representing, so as long as it is set before adding it to the service it is unlikely to be a problem.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deferred-references">Deferred References<a href="#deferred-references" class="hash-link" aria-label="Direct link to Deferred References" title="Direct link to Deferred References">​</a></h2><p>When creating an object to include in the model, you will often not have all referenced objects constructed, not have
all the information to construct a reference immediately, or not have a reference handy to use. However, you will
generally have the MRID of any referenced objects. To deal with this, the services provide a <code>resolve_or_defer_reference</code>
function. This function will:</p><ul><li>Resolve a reference immediately (in both direcitons is applicable) if the reference MRID object is already added to the service. </li><li>If the reference MRID is not added to the service, the request to resolve the reference is chached. When an object
with the referenced MRID is eventually added to the service, the reference is resolved at this time. </li></ul><p>Unresolved references can also be queried back out of the service. Let&#x27;s see all with a simple example:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> zepben</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">evolve </span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> NetworkService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Feeder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> Breaker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> resolver</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> NetworkService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">feeder </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Feeder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">feeder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">switch </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Breaker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">switch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># As the switch is already added to the service, this will be resolved immediately.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">resolve_or_defer_reference</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">resolver</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ec_equipment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">feeder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> switch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">mrid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">feeder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">equipment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">contains</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">switch</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Now if we try and resolve something not added it will be deferred</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">junction </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Junction</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">resolve_or_defer_reference</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">resolver</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ec_equipment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">feeder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> junction</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">mrid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">feeder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">equipment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">contains</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">junction</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># We can query the unresolved reference MRIDs back out of the service</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">get_unresolved_reference_mrids</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">resolver</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ec_equipment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">feeder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># [junction]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># When the object with the deferred MRID is added, the reference gets resolved</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">service</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">junction</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">print</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">feeder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">equipment</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">contains</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">junction</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-multiple-services">Why multiple services?<a href="#why-multiple-services" class="hash-link" aria-label="Direct link to Why multiple services?" title="Direct link to Why multiple services?">​</a></h4><p>You might be asking &quot;Why not just one service for all identified objects?&quot;. Admittedly, just having one would be easier
to work with. However, as models can become large, having every object in a single service (and thus process) will mean
you need an ever increasing amount of RAM in your system. What we have done is separated out parts of the
data model into separate concerns, at what we feel are sensible boundary points. That is:</p><ul><li>The network service deals with models of the physical electricity network.</li><li>The customer service deals with customers and their agreements with electricity providers
(e.g their <a href="http://zepben.bitbucket.io/cim/evolve/iec61968/customers/tariff/" target="_blank" rel="noopener noreferrer">Tariff</a>).</li><li>The diagram service deals with things related to representing networks as diagrams
(see <a href="http://zepben.bitbucket.io/cim/evolve/iec61970/base/diagramlayout/diagram/" target="_blank" rel="noopener noreferrer">Diagram</a> and
<a href="http://zepben.bitbucket.io/cim/evolve/iec61970/base/diagramlayout/diagramobject/" target="_blank" rel="noopener noreferrer">DiagramObject</a>).</li><li>Once the platform supports measurement values, these values will be retrieved via a separate service rather than
directly from measurement objects.</li></ul><p>Ultimately there is a tradeoff between developer usability and model size feasibility. Hopefully you will find this
is a reasonable trade off when working with large systems.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/evolve/docs/python-sdk/0.21.0/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Data Model</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/evolve/docs/python-sdk/0.21.0/sdk-tracing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tracing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#common-service-functionality" class="table-of-contents__link toc-highlight">Common Service functionality</a><ul><li><a href="#adding-and-removing-objects" class="table-of-contents__link toc-highlight">Adding and Removing Objects</a></li><li><a href="#object-retrieval" class="table-of-contents__link toc-highlight">Object Retrieval</a></li></ul></li><li><a href="#network-service" class="table-of-contents__link toc-highlight">Network Service</a></li><li><a href="#customer-service" class="table-of-contents__link toc-highlight">Customer Service</a></li><li><a href="#diagram-service" class="table-of-contents__link toc-highlight">Diagram Service</a></li><li><a href="#deferred-references" class="table-of-contents__link toc-highlight">Deferred References</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Zeppelin Bend Pty. Ltd.</div></div></div></footer></div>
<script src="/evolve/docs/python-sdk/assets/js/runtime~main.41d98a20.js"></script>
<script src="/evolve/docs/python-sdk/assets/js/main.92879cb8.js"></script>
</body>
</html>