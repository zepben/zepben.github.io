"use strict";(self.webpackChunkpowerfactory_model_service_doco=self.webpackChunkpowerfactory_model_service_doco||[]).push([[81],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return f}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=a.createContext({}),p=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(u.Provider,{value:t},e.children)},s="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,u=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),s=p(n),m=r,f=s["".concat(u,".").concat(m)]||s[m]||d[m]||l;return n?a.createElement(f,i(i({ref:t},c),{},{components:n})):a.createElement(f,i({ref:t},c))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=m;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o[s]="string"==typeof e?e:r,i[1]=o;for(var p=2;p<l;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4826:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return u},default:function(){return f},frontMatter:function(){return o},metadata:function(){return p},toc:function(){return s}});var a=n(7462),r=n(3366),l=(n(7294),n(3905)),i=["components"],o={},u="ms-powerfactory-model-service",p={unversionedId:"overview",id:"overview",title:"ms-powerfactory-model-service",description:"Power Factory Model Service",source:"@site/docs/overview.mdx",sourceDirName:".",slug:"/overview",permalink:"/evolve/docs/powerfactory-model-service/overview",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"someSidebar"},c={},s=[{value:"Starting \ud83d\ude80",id:"starting-",level:2},{value:"Information \ud83d\udccb",id:"information-",level:3},{value:"Installation \ud83d\udd27",id:"installation-",level:3},{value:"Main Config",id:"main-config",level:4},{value:"EWB Config",id:"ewb-config",level:4},{value:"Auth Config",id:"auth-config",level:4},{value:"Feeder Colours Specification File",id:"feeder-colours-specification-file",level:4}],d={toc:s},m="wrapper";function f(e){var t=e.components,n=(0,r.Z)(e,i);return(0,l.kt)(m,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"ms-powerfactory-model-service"},"ms-powerfactory-model-service"),(0,l.kt)("p",null,"Power Factory Model Service"),(0,l.kt)("h2",{id:"starting-"},"Starting \ud83d\ude80"),(0,l.kt)("p",null,"These instructions will allow you to get a copy of the project running\non your local machine for development and testing purposes and/or running a docker container as well."),(0,l.kt)("h3",{id:"information-"},"Information \ud83d\udccb"),(0,l.kt)("p",null,"To use this microservice, you must set the path of the config.json file as an argument at runtime.\nKeep in mind that within that config.json file you will need to configure a couple of variables that are mentioned later"),(0,l.kt)("h3",{id:"installation-"},"Installation \ud83d\udd27"),(0,l.kt)("p",null,"Initially you should download the repository"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"git clone zepben/powerfactory-model-service")),(0,l.kt)("p",null,"Building the project should be done, using"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"mvn clean install")),(0,l.kt)("p",null,"To run the project, you must set the config.json file as an argument at run time by passing its path to the --config option."),(0,l.kt)("p",null,"Inside config.json file you must initialize the next variables"),(0,l.kt)("h4",{id:"main-config"},"Main Config"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Var"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Example"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"port"),(0,l.kt)("td",{parentName:"tr",align:null},"Port the service will listen on"),(0,l.kt)("td",{parentName:"tr",align:null},"8089")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"feederColoursFile"),(0,l.kt)("td",{parentName:"tr",align:null},"Path to the feeder colours specification file"),(0,l.kt)("td",{parentName:"tr",align:null},"'./feeder_colors.json'")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"ewb"),(0,l.kt)("td",{parentName:"tr",align:null},"Config for connection to the energy-workbench-server"),(0,l.kt)("td",{parentName:"tr",align:null},"refer to 'EWB Config' below")))),(0,l.kt)("h4",{id:"ewb-config"},"EWB Config"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Var"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Example"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"host"),(0,l.kt)("td",{parentName:"tr",align:null},"Host for the energy-workbench-server"),(0,l.kt)("td",{parentName:"tr",align:null},"'127.0.0.1'")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"grpc_port"),(0,l.kt)("td",{parentName:"tr",align:null},"Port for the energy-workbench-server is listening on for grpc requests"),(0,l.kt)("td",{parentName:"tr",align:null},"9014")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"secure"),(0,l.kt)("td",{parentName:"tr",align:null},"Indicates if TLS should be enabled for the connection with the energy-workbench-server"),(0,l.kt)("td",{parentName:"tr",align:null},"true")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"caFilename"),(0,l.kt)("td",{parentName:"tr",align:null},"Filename of CA to use when verifying certificate of the energy-workbench-server. Leave unspecified to use system CAs."),(0,l.kt)("td",{parentName:"tr",align:null},"'./ewb_ca.cert'")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"auth"),(0,l.kt)("td",{parentName:"tr",align:null},"Config for the authentication used for the connection with energy-workbench-server"),(0,l.kt)("td",{parentName:"tr",align:null},"refer to 'Auth Config' below")))),(0,l.kt)("p",null,"Notes:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"caFilename")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"auth")," have no effect if ",(0,l.kt)("inlineCode",{parentName:"li"},"secure")," is set to ",(0,l.kt)("inlineCode",{parentName:"li"},"false"),".")),(0,l.kt)("h4",{id:"auth-config"},"Auth Config"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Var"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Example"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"clientId"),(0,l.kt)("td",{parentName:"tr",align:null},"The client ID of the OAuth application to authenticate with"),(0,l.kt)("td",{parentName:"tr",align:null},"'notARealClientID'")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"clientSecret"),(0,l.kt)("td",{parentName:"tr",align:null},"The client secret of the OAuth application to authenticate with"),(0,l.kt)("td",{parentName:"tr",align:null},"'notARealClientSecret'")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"username"),(0,l.kt)("td",{parentName:"tr",align:null},"Username for a user of the OAuth application to authenticate with"),(0,l.kt)("td",{parentName:"tr",align:null},"'notARealUsername'")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"password"),(0,l.kt)("td",{parentName:"tr",align:null},"Password for a user of the OAuth application to authenticate with"),(0,l.kt)("td",{parentName:"tr",align:null},"'Swordfish'")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"confAddress"),(0,l.kt)("td",{parentName:"tr",align:null},"URL to fetch certain token request fields from"),(0,l.kt)("td",{parentName:"tr",align:null},"'127.0.0.1:9000/ewb/auth'")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"audience"),(0,l.kt)("td",{parentName:"tr",align:null},"Identifier for set of APIs to request access for"),(0,l.kt)("td",{parentName:"tr",align:null},"'https://evolve-ewb/'")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"issuerDomain"),(0,l.kt)("td",{parentName:"tr",align:null},"Domain name of OAuth token provider"),(0,l.kt)("td",{parentName:"tr",align:null},"'zepben-dev.au.auth0.com'")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"authMethod"),(0,l.kt)("td",{parentName:"tr",align:null},"Type of authentication API to use. Currently, this should be left unspecified."),(0,l.kt)("td",{parentName:"tr",align:null},"AuthMethod.OAuth")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"confCA"),(0,l.kt)("td",{parentName:"tr",align:null},"Filename of CA to use when verifying certificate of confAddress. Leave unspecified to use system CAs."),(0,l.kt)("td",{parentName:"tr",align:null},"'./conf_ca.cert'")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"authCA"),(0,l.kt)("td",{parentName:"tr",align:null},"Filename of CA to use when verifying certificate of issuerDomain. Leave unspecified to use system CAs."),(0,l.kt)("td",{parentName:"tr",align:null},"'./auth_ca.cert'")))),(0,l.kt)("p",null,"Notes:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"There are two OAuth grant types supported: password and client credentials.",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"To use a password grant, specify ",(0,l.kt)("inlineCode",{parentName:"li"},"username")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"password"),". Ensure ",(0,l.kt)("inlineCode",{parentName:"li"},"clientId")," refers to an application that supports password grants."),(0,l.kt)("li",{parentName:"ul"},"To use a client credentials grant, specify ",(0,l.kt)("inlineCode",{parentName:"li"},"clientSecret"),". Ensure ",(0,l.kt)("inlineCode",{parentName:"li"},"clientId")," refers to an application that supports client credential grants.",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"To use a client credentials grant with managed identity (EntraID only), ",(0,l.kt)("em",{parentName:"li"},"don't")," specify ",(0,l.kt)("inlineCode",{parentName:"li"},"clientSecret"),". Ensure ",(0,l.kt)("inlineCode",{parentName:"li"},"clientId")," refers to an\napplication that supports client credential grants."))))),(0,l.kt)("li",{parentName:"ul"},"There are two ways of specifying the token audience and the domain of the token issuer:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Specify ",(0,l.kt)("inlineCode",{parentName:"li"},"confAddress")," to point to a json file served over HTTPS. If specified, ",(0,l.kt)("inlineCode",{parentName:"li"},"confCA")," is used to verify the certificate."),(0,l.kt)("li",{parentName:"ul"},"Specify ",(0,l.kt)("inlineCode",{parentName:"li"},"audience")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"issuerDomain")," directly.")))),(0,l.kt)("h4",{id:"feeder-colours-specification-file"},"Feeder Colours Specification File"),(0,l.kt)("p",null,"This file is used to control the colours assigned to each feeder in the resulting DGS file. It is a json file that contains a mapping\nfrom feeder mrids to the colour number to assign for said feeder."),(0,l.kt)("p",null,"Example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "feeder1" : 1,\n  "feeder2" : 2,\n  "feeder3" : 3\n}\n')))}f.isMDXComponent=!0}}]);