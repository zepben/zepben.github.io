"use strict";(self.webpackChunkpowerfactory_model_service=self.webpackChunkpowerfactory_model_service||[]).push([["25"],{7720:function(e,n,i){i.r(n),i.d(n,{metadata:()=>r,default:()=>h,frontMatter:()=>o,contentTitle:()=>s,toc:()=>d,assets:()=>l});var r=JSON.parse('{"id":"Transformations","title":"Model Transformations","description":"When the PowerFactory Model Builder converts your CIM network data into a PowerFactory model, it applies a series of transformations to improve model clarity, usability, and solvability. This page explains what changes are made and why.","source":"@site/docs/transformations.mdx","sourceDirName":".","slug":"/transformations","permalink":"/evolve/docs/powerfactory-model-service/next/transformations","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"Transformations","title":"Model Transformations","slug":"/transformations"},"sidebar":"tutorialSidebar","previous":{"title":"CIM to PowerFactory Mapping","permalink":"/evolve/docs/powerfactory-model-service/next/mapping"},"next":{"title":"Using the SDK","permalink":"/evolve/docs/powerfactory-model-service/next/using-the-sdk"}}'),t=i(4848),a=i(8453);let o={id:"Transformations",title:"Model Transformations",slug:"/transformations"},s="Model Transformations",l={},d=[{value:"Overview",id:"overview",level:2},{value:"Geographic Diagram Improvements",id:"geographic-diagram-improvements",level:2},{value:"Element Spacing and Positioning",id:"element-spacing-and-positioning",level:3},{value:"Site Organization and Visibility",id:"site-organization-and-visibility",level:3},{value:"Feeder Identification",id:"feeder-identification",level:3},{value:"Network Topology Improvements",id:"network-topology-improvements",level:2},{value:"Transformer Site Cleanup",id:"transformer-site-cleanup",level:3},{value:"Recloser and Voltage Regulator Organization",id:"recloser-and-voltage-regulator-organization",level:3},{value:"Tri-Switch Formation Cleanup",id:"tri-switch-formation-cleanup",level:3},{value:"Switch and Coupling Refinement",id:"switch-and-coupling-refinement",level:3},{value:"LV Network Handling",id:"lv-network-handling",level:3},{value:"Load Flow Study Preparation",id:"load-flow-study-preparation",level:2},{value:"Load Assignment",id:"load-assignment",level:3},{value:"Transformer Grounding Configuration",id:"transformer-grounding-configuration",level:3},{value:"Neutral Earthing Resistor (NER) Configuration",id:"neutral-earthing-resistor-ner-configuration",level:3},{value:"Subtransmission Network Optimization",id:"subtransmission-network-optimization",level:3},{value:"Timeseries Database Integration",id:"timeseries-database-integration",level:2},{value:"Model Cleanup and Validation",id:"model-cleanup-and-validation",level:2},{value:"Final Cleanup Pass",id:"final-cleanup-pass",level:3},{value:"LV Network Naming",id:"lv-network-naming",level:3},{value:"Variant Stage Organization",id:"variant-stage-organization",level:3},{value:"Additional Features",id:"additional-features",level:2},{value:"Additional Variable Mapping",id:"additional-variable-mapping",level:3},{value:"Configuration and Customization",id:"configuration-and-customization",level:2}];function c(e){let n={em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"model-transformations",children:"Model Transformations"})}),"\n",(0,t.jsx)(n.p,{children:"When the PowerFactory Model Builder converts your CIM network data into a PowerFactory model, it applies a series of transformations to improve model clarity, usability, and solvability. This page explains what changes are made and why."}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"The model builder automatically processes your network data to create PowerFactory models that are ready for load flow analysis and easy to navigate. These transformations are configured per-environment and can be customized to suit your network's specific requirements."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"Note: If you need to adjust how these transformations are applied to your network, please contact Zepben for configuration options."})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"geographic-diagram-improvements",children:"Geographic Diagram Improvements"}),"\n",(0,t.jsx)(n.h3,{id:"element-spacing-and-positioning",children:"Element Spacing and Positioning"}),"\n",(0,t.jsx)(n.p,{children:"The model builder ensures that network elements don't overlap in the geographic diagram. In the source CIM data, connectivity nodes don't carry location information, which can result in multiple pieces of equipment appearing at the same location. The builder automatically:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Creates proper spacing between overlapping terminals (ElmTerm - connection points in the model) and equipment"}),"\n",(0,t.jsx)(n.li,{children:"Separates switches (ElmCoup) that share identical GPS coordinates but aren't directly connected"}),"\n",(0,t.jsx)(n.li,{children:"Repositions elements to ensure all equipment is visible and accessible"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"site-organization-and-visibility",children:"Site Organization and Visibility"}),"\n",(0,t.jsx)(n.p,{children:"To improve diagram clarity and reduce clutter:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Load sites"}),": Individual loads (ElmLod - customer connection points) that aren't within substations are moved into their own sites (ElmSite), making them appear as circles on the main geographic map"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Substation cleanup"}),": GPS coordinates are removed from equipment within substations (ElmSubstat) and transformer stations (ElmTrfstat), preventing them from cluttering the main geographic view while keeping them organized within their substation diagrams"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Terminal organization"}),": Terminals associated with substation equipment are sorted into the appropriate substation folders for better organization"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"feeder-identification",children:"Feeder Identification"}),"\n",(0,t.jsx)(n.p,{children:"The model builder assigns consistent colors to feeders based on a configurable mapping file, making it easier to visually trace networks that belong to the same feeder. This color coding is applied to feeder objects (ElmFeeder) throughout the model."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"network-topology-improvements",children:"Network Topology Improvements"}),"\n",(0,t.jsx)(n.h3,{id:"transformer-site-cleanup",children:"Transformer Site Cleanup"}),"\n",(0,t.jsx)(n.p,{children:"Distribution transformer (DTX) sites and isolation transformers are processed to improve both clarity and functionality:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Transformer terminals and phase configurations are standardized"}),"\n",(0,t.jsx)(n.li,{children:"Site types are updated to ensure correct geographic diagram symbols"}),"\n",(0,t.jsx)(n.li,{children:"Neutral connections are configured correctly for phase consistency"}),"\n",(0,t.jsx)(n.li,{children:"Busbar assignments are optimized for better PowerFactory internal diagrams"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"recloser-and-voltage-regulator-organization",children:"Recloser and Voltage Regulator Organization"}),"\n",(0,t.jsx)(n.p,{children:"Recloser and voltage regulator sites undergo special processing to improve diagram clarity:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Components are rearranged to better represent the actual network configuration"}),"\n",(0,t.jsx)(n.li,{children:"Feeder head terminals are correctly assigned when breakers are situated in recloser loops"}),"\n",(0,t.jsx)(n.li,{children:"Unnecessary components may be created or removed to simplify the visual representation"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"tri-switch-formation-cleanup",children:"Tri-Switch Formation Cleanup"}),"\n",(0,t.jsx)(n.p,{children:"Networks with tri-switch formations (where three switches meet at a common point) are reorganized. The switches are moved from their original overlapping position to sit between their flanking lines, making the configuration clearer in the geographic diagram."}),"\n",(0,t.jsx)(n.h3,{id:"switch-and-coupling-refinement",children:"Switch and Coupling Refinement"}),"\n",(0,t.jsx)(n.p,{children:"The model builder processes switches (ElmCoup) to:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Assign correct usage types so appropriate custom icons display in the model"}),"\n",(0,t.jsx)(n.li,{children:"Remove hanging switches that are only connected on one side and don't serve a functional purpose (except for switches that belong to feeders, have auxiliary equipment, or contain feeder head terminals)"}),"\n",(0,t.jsx)(n.li,{children:"Add descriptive information labels to open switches for easier identification"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"lv-network-handling",children:"LV Network Handling"}),"\n",(0,t.jsx)(n.p,{children:"The treatment of low voltage (LV) networks can be configured based on your needs:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Consolidated mode"})," (default): All LV feeders are consolidated into their upstream HV grids, reducing clutter and grid count"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Separate mode"}),": LV sections remain as independent, toggleable grids"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Regardless of the mode, downstream terminals of distribution transformers are normalized to ensure consistent voltage and phase settings for load flow studies."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"load-flow-study-preparation",children:"Load Flow Study Preparation"}),"\n",(0,t.jsx)(n.h3,{id:"load-assignment",children:"Load Assignment"}),"\n",(0,t.jsx)(n.p,{children:"The model builder can assign load values to customer connection points (ElmLod) in several ways, depending on the configuration:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Default Mode"}),": A standard load value is assigned to each load object."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Configured Mode"}),": When maximum feeder demand and HV customer maximum demand values are provided, loads are distributed intelligently based on the model type:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Subtransmission models"}),": An aggregated load is created at each feeder head with the specified value"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"HV models"}),": The load is split between:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Aggregated loads placed immediately downstream of distribution transformers (proportional to transformer size)"}),"\n",(0,t.jsx)(n.li,{children:"Individual HV customer loads (using the configured maximum demand value)"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"LV models"}),": Load values that would have been assigned to transformer aggregated loads are instead evenly distributed among all downstream individual loads"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"transformer-grounding-configuration",children:"Transformer Grounding Configuration"}),"\n",(0,t.jsx)(n.p,{children:"When distribution transformer grounding configuration is provided, the model builder assigns resistance and reactance values for internal grounding (star point) to all distribution transformers. This enables accurate fault analysis and load flow studies."}),"\n",(0,t.jsx)(n.h3,{id:"neutral-earthing-resistor-ner-configuration",children:"Neutral Earthing Resistor (NER) Configuration"}),"\n",(0,t.jsx)(n.p,{children:"For networks with neutral earthing resistors, the builder creates grounding switches (ElmGndswt) and places them downstream of grounding impedance equipment (ElmSind) to properly represent the grounding configuration."}),"\n",(0,t.jsx)(n.h3,{id:"subtransmission-network-optimization",children:"Subtransmission Network Optimization"}),"\n",(0,t.jsx)(n.p,{children:"For subtransmission networks, the model builder:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Consolidates all circuit grids and their equipment into their respective loop grids, reducing grid count and clutter"}),"\n",(0,t.jsx)(n.li,{children:"Disables energy sources in non-BSP (bulk supply point) substations when BSP substations exist, ensuring proper reference points for load flow studies"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"timeseries-database-integration",children:"Timeseries Database Integration"}),"\n",(0,t.jsx)(n.p,{children:"If you're using Energy Workbench's timeseries capabilities, the model builder can link your PowerFactory model to your database:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Database Configuration"}),": When database connection details are provided, the builder creates the necessary database objects (SetDatabase, ChaTime, and ChaRef) to link loads with their corresponding meter data."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"NMI Matching"}),": For each energy consumer in your network, if its NMI (National Meter Identifier) matches an entry in your database list, the appropriate characteristic objects are created to enable timeseries load profiles in PowerFactory."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"Note: Database integration requires specific configuration - contact Zepben for setup assistance."})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"model-cleanup-and-validation",children:"Model Cleanup and Validation"}),"\n",(0,t.jsx)(n.h3,{id:"final-cleanup-pass",children:"Final Cleanup Pass"}),"\n",(0,t.jsx)(n.p,{children:"Before finalizing the model, the builder performs a comprehensive cleanup to remove errors and reduce clutter:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Removes energy sources without source impedance"}),"\n",(0,t.jsx)(n.li,{children:"Removes current transformers that were attached to deleted elements"}),"\n",(0,t.jsx)(n.li,{children:"Removes unused terminals (StaCubic) from grounding switches"}),"\n",(0,t.jsx)(n.li,{children:"Removes auxiliary equipment from zone substations"}),"\n",(0,t.jsx)(n.li,{children:"Removes terminals (ElmTerm) and equipment that aren't connected to anything"}),"\n",(0,t.jsx)(n.li,{children:"Disables isolation transformers and auxiliary transformers in substations"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"lv-network-naming",children:"LV Network Naming"}),"\n",(0,t.jsx)(n.p,{children:"Distribution transformer names and their associated LV networks (ElmNet) are cleaned up and standardized for better organization and clarity."}),"\n",(0,t.jsx)(n.h3,{id:"variant-stage-organization",children:"Variant Stage Organization"}),"\n",(0,t.jsx)(n.p,{children:"For hosting capacity analysis scenarios, objects created during scenario generation are automatically sorted into appropriate variant stages (IntSstage) for easy comparison between different network configurations."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"additional-features",children:"Additional Features"}),"\n",(0,t.jsx)(n.h3,{id:"additional-variable-mapping",children:"Additional Variable Mapping"}),"\n",(0,t.jsx)(n.p,{children:"When requested, the model builder can assign additional information labels to specific network elements, such as open switches and sites, providing extra context for operators and planners."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"configuration-and-customization",children:"Configuration and Customization"}),"\n",(0,t.jsx)(n.p,{children:"Many of these transformations can be configured on a per-environment basis to match your organization's specific requirements and workflows. Configuration options include:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Load distribution parameters"}),"\n",(0,t.jsx)(n.li,{children:"Feeder color mappings"}),"\n",(0,t.jsx)(n.li,{children:"Transformer grounding parameters"}),"\n",(0,t.jsx)(n.li,{children:"Database connection details and NMI lists"}),"\n",(0,t.jsx)(n.li,{children:"LV network consolidation preferences"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"To discuss configuration options for your environment, please contact Zepben."})})]})}function h(e={}){let{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:function(e,n,i){i.d(n,{R:()=>o,x:()=>s});var r=i(6540);let t={},a=r.createContext(t);function o(e){let n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);