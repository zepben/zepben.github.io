"use strict";(self.webpackChunkload_aggregator=self.webpackChunkload_aggregator||[]).push([["412"],{9121:function(e,t,n){n.r(t),n.d(t,{metadata:()=>a,default:()=>h,frontMatter:()=>i,contentTitle:()=>d,toc:()=>l,assets:()=>s});var a=JSON.parse('{"id":"run-app","title":"Running the Application","description":"Standard Deployment","source":"@site/versioned_docs/version-3.4.0/run-app.md","sourceDirName":".","slug":"/run-app","permalink":"/evolve/docs/load-aggregator/3.4.0/run-app","draft":false,"unlisted":false,"tags":[],"version":"3.4.0","frontMatter":{"id":"run-app","title":"Running the Application"},"sidebar":"sidebar","previous":{"title":"Configuring","permalink":"/evolve/docs/load-aggregator/3.4.0/configuring"}}'),r=n(4848),o=n(8453);let i={id:"run-app",title:"Running the Application"},d,s={},l=[{value:"Standard Deployment",id:"standard-deployment",level:5},{value:"Forced Aggregation",id:"forced-aggregation",level:5},{value:"Command Line Arguments",id:"command-line-arguments",level:5},{value:"Heap Size Estimation",id:"heap-size-estimation",level:5}];function c(e){let t={a:"a",admonition:"admonition",code:"code",h5:"h5",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h5,{id:"standard-deployment",children:"Standard Deployment"}),"\n",(0,r.jsxs)(t.p,{children:["A standard deployment has updated network models and load readings being generated daily. With this configuration you can run the tool by executing the\nfollowing command at a terminal, where ",(0,r.jsx)(t.code,{children:"<heap size>"})," is the desired size of the heap (e.g. 16g):"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"java -Xmx<heap size> -Xms<heap size> -jar <path to load-aggregator-jar> -conf <path to config file>\n"})}),"\n",(0,r.jsx)(t.p,{children:"e.g."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"java -Xmx20g -Xms20g -jar load-aggregator-3.2.0.jar -c .\\loadagg_config.json\n"})}),"\n",(0,r.jsx)(t.admonition,{type:"danger",children:(0,r.jsxs)(t.p,{children:["If you do not have new load readings for the day, the load aggregation will not run and the network database will not update.\nSee ",(0,r.jsx)(t.a,{href:"#forced-aggregation",children:"Forced Aggregation"}),"."]})}),"\n",(0,r.jsx)(t.h5,{id:"forced-aggregation",children:"Forced Aggregation"}),"\n",(0,r.jsx)(t.p,{children:"The usage points table in the network model database needs to be updated for the load server to work correctly with aggregated transformer data. If your are\nobserving poor performance of the load aggregation function, its probably because something has gone wrong with the process that updates the usage points table\nin the network model."}),"\n",(0,r.jsxs)(t.p,{children:["The information needed to update the usage points table comes from the an aggregated load database, like ",(0,r.jsx)(t.code,{children:"2023-01-18-load-readings.sqlite"}),". Normally, this would\nbe done by the ",(0,r.jsx)(t.code,{children:"load-aggregator"})," as part of the daily processing, however; in some situations, such as if the ",(0,r.jsx)(t.code,{children:"load-aggregator"})," did not run or failed to run, or\nif a new network model is needed to work with existing historical load databases, it will be necessary to force the ",(0,r.jsx)(t.code,{children:"load-aggregator"}),"to run manually. In this\nsituation, use this command line:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"java -Xmx<heap size> -Xms<heap size> -jar <path to load-aggregator-jar> -conf <path to config file> --force-aggregation YYYY-MM-DD,YYYY-MM-DD\n"})}),"\n",(0,r.jsx)(t.p,{children:"e.g."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"java -Xmx20g -Xms20g -jar load-aggregator-3.2.0.jar -c .\\loadagg_config.json --force-aggregation 2023-01-24,2023-01-24\n"})}),"\n",(0,r.jsx)(t.p,{children:"Where the date range is the date of the model build, where the network model is located. If it can\u2019t find a load database for the date you are working with,\nit will search backwards and use the first load database it finds."}),"\n",(0,r.jsxs)(t.admonition,{type:"note",children:[(0,r.jsx)(t.p,{children:"Make sure there are no corrupt or partial load databases in any of the directories prior to the date of the network model you are trying to update. If there\nare, it will mess up the mapping."}),(0,r.jsxs)(t.p,{children:["If there is no load database for the date you are working with, the ",(0,r.jsx)(t.code,{children:"load-aggregator"})," will create a shell of a load reading database,\nlike ",(0,r.jsx)(t.code,{children:"2023-01-24-load-readings.sqlite"}),", if one does not exist. This should be deleted."]})]}),"\n",(0,r.jsx)(t.h5,{id:"command-line-arguments",children:"Command Line Arguments"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Flag"}),(0,r.jsx)(t.th,{children:"Valid Values"}),(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Required"}),(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Default"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"-c"})}),(0,r.jsxs)(t.td,{children:["Path to the configuration file (see ",(0,r.jsx)(t.code,{children:"Configuring"})," for details including an example config file)."]}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,r.jsx)(t.td,{style:{textAlign:"center"}})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"--detailed-stats-log"})}),(0,r.jsx)(t.td,{children:"Used to show detailed messages for each warning collected in the stats output."}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"Disabled"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"--force-aggregation <FROM_DATE,TO_DATE>"})}),(0,r.jsxs)(t.td,{children:["Allows all meters to be aggregated to their transformers for a specified date range. Dates formatted as ",(0,r.jsx)(t.code,{children:"YYYY-MM-DD"}),", with no spaces around the ",(0,r.jsx)(t.code,{children:","}),"."]}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"Disabled"})]})]})]}),"\n",(0,r.jsx)(t.h5,{id:"heap-size-estimation",children:"Heap Size Estimation"}),"\n",(0,r.jsxs)(t.p,{children:["The LV Mapping data requires around ",(0,r.jsx)(t.code,{children:"2GB"})]}),"\n",(0,r.jsxs)(t.p,{children:["The meter data requires around ",(0,r.jsx)(t.code,{children:"1.5GB"})]}),"\n",(0,r.jsxs)(t.p,{children:["Together with the process overhead, the recommended heap size is ",(0,r.jsx)(t.code,{children:"8GB"})]})]})}function h(e={}){let{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:function(e,t,n){n.d(t,{R:()=>i,x:()=>d});var a=n(6540);let r={},o=a.createContext(r);function i(e){let t=a.useContext(o);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(o.Provider,{value:t},e.children)}}}]);