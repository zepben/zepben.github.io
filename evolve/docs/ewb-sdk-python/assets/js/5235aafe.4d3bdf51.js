"use strict";(self.webpackChunkewb_sdk_python=self.webpackChunkewb_sdk_python||[]).push([["2504"],{34410:function(e,a,t){t.r(a),t.d(a,{metadata:()=>s,default:()=>c,frontMatter:()=>d,contentTitle:()=>r,toc:()=>l,assets:()=>o});var s=JSON.parse('{"id":"sdk-ewb-file-paths","title":"EWB Database Paths","description":"The Energy Workbench Server(EWB) uses a defined directory structure and naming convention for locating the various databases it is requested to load data from within its \\"data path\\".","source":"@site/versioned_docs/version-0.40.0/ewb_file_paths.mdx","sourceDirName":".","slug":"/sdk-ewb-file-paths","permalink":"/evolve/docs/ewb-sdk-python/0.40.0/sdk-ewb-file-paths","draft":false,"unlisted":false,"tags":[],"version":"0.40.0","frontMatter":{"id":"sdk-ewb-file-paths","title":"EWB Database Paths"},"sidebar":"someSidebar","previous":{"title":"Protection Relays","permalink":"/evolve/docs/ewb-sdk-python/0.40.0/sdk-protection"}}'),n=t(74848),i=t(28453);t(32614),t(19314);let d={id:"sdk-ewb-file-paths",title:"EWB Database Paths"},r,o={},l=[{value:"Initializing <code>EwbDataFilePaths</code>",id:"initializing-ewbdatafilepaths",level:3},{value:"Retrieving Database File Paths",id:"retrieving-database-file-paths",level:3},{value:"Searching for Databases",id:"searching-for-databases",level:3}];function h(e){let a={code:"code",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.p,{children:['The Energy Workbench Server(EWB) uses a defined directory structure and naming convention for locating the various databases it is requested to load data from within its "data path".\n',(0,n.jsx)(a.code,{children:"EwbDataFilePaths"})," is a class for working with the file locations used by EWB."]}),"\n",(0,n.jsxs)(a.p,{children:["The basic structure for date based database files is ",(0,n.jsx)(a.code,{children:"<base_dir>/<model_date>/<model_date>-<database_type>.sqlite"}),":"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"/sample/ewb/ewb_data/4444-05-06/4444-05-06-customer.sqlite\n"})}),"\n",(0,n.jsxs)(a.p,{children:["The basic structure for static database files is ",(0,n.jsx)(a.code,{children:"<base_dir>/<database_type>.sqlite"}),":"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"/sample/ewb/ewb_data/load-aggregator-mbd.sqlite\n"})}),"\n",(0,n.jsxs)(a.h3,{id:"initializing-ewbdatafilepaths",children:["Initializing ",(0,n.jsx)(a.code,{children:"EwbDataFilePaths"})]}),"\n",(0,n.jsxs)(a.p,{children:["An instance of ",(0,n.jsx)(a.code,{children:"EwbDataFilePaths"}),' represents a single EWB "data path". This data path is provided to the constructor via ',(0,n.jsx)(a.code,{children:"base_dir"}),". If the directory provided via ",(0,n.jsx)(a.code,{children:"base_dir"}),"\ndoes not exist, ",(0,n.jsx)(a.code,{children:"EwbDataFilePaths"})," can create it if ",(0,n.jsx)(a.code,{children:"create_path"})," is set to ",(0,n.jsx)(a.code,{children:"True"})," (Default: ",(0,n.jsx)(a.code,{children:"False"}),")."]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:'from zepben.evolve import EwbDataFilePaths\nfrom pathlib import Path\n\ndata_path = Path("/path/to/ewb_data/")\ndatabase_location = EwbDataFilePaths(data_path, create_path=False)\n\ndata_path = Path("/path/to/second_set/")\ndatabase_location = EwbDataFilePaths(data_path, create_path=True)\n'})}),"\n",(0,n.jsx)(a.h3,{id:"retrieving-database-file-paths",children:"Retrieving Database File Paths"}),"\n",(0,n.jsxs)(a.p,{children:["EwbDataFilePaths provides methods to generate file paths for each type of database used by EWB. Date based databases require a ",(0,n.jsx)(a.code,{children:"Date"})," to be provided.\nNote: ",(0,n.jsx)(a.code,{children:"EwbDataFilePaths"})," will return the expected path for the provided ",(0,n.jsx)(a.code,{children:"database_type"})," and ",(0,n.jsx)(a.code,{children:"date"})," regardless of whether it exists or not."]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:'from zepben.evolve import EwbDataFilePaths\nfrom pathlib import Path\nfrom datetime import date\n\ndata_path = Path("/path/to/ewb_data/")\newb_data = EwbDataFilePaths(data_path)\n\nnew_date = Date(2024, 8, 3)\nexpected_path_to_network_database = ewb_data.network_model(new_date)\nexpected_path_to_diagram_database = ewb_data.diagram(new_date)\n\nexpected_path_to_weather_reading_db = ewb_data.weather_reading()\n\nsecond_date = Date(2024, 11, 12)\nsecond_network_database_path = ewb_data.network_model(second_date)\n\n'})}),"\n",(0,n.jsx)(a.h3,{id:"searching-for-databases",children:"Searching for Databases"}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.code,{children:"EwbDataFilePaths"})," contains search functionality to locate existing databases on disk."]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-python",children:'from zepben.evolve import EwbDataFilePaths\nfrom pathlib import Path\nfrom datetime import date\n\ndata_path = Path("/path/to/ewb_data/")\newb_data = EwbDataFilePaths(data_path)\n\n# List all the dates for which exist network databases in the data path\nlist_of_available_dates = ewb_data.get_network_model_databases()\n\n# Find the first date for which exists a customer database before 2011-09-10\nclosest_date_before = ewb_data.find_closest(Database.CUSTOMER, target_date=Date(2011, 9, 10))\n\n'})})]})}function c(e={}){let{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},19314:function(e,a,t){t(74848),t(96540)},32614:function(e,a,t){t(74848),t(96540),t(19863)},28453:function(e,a,t){t.d(a,{R:()=>d,x:()=>r});var s=t(96540);let n={},i=s.createContext(n);function d(e){let a=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),s.createElement(i.Provider,{value:a},e.children)}}}]);