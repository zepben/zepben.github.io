<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-0.5.0 plugin-docs plugin-id-default docs-doc-id-overview">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Overview | OpenDSS Model Processor</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zepben.github.io/ewb/docs/opendss-model-processor/0.5.0/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:project" content="opendss-model-processor"><meta data-rh="true" name="docusaurus_version" content="0.5.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.5.0"><meta data-rh="true" name="docsearch:version" content="0.5.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.5.0"><meta data-rh="true" property="og:title" content="Overview | OpenDSS Model Processor"><meta data-rh="true" name="description" content="This is a processor for converting EWB CIM models into OpenDSS models."><meta data-rh="true" property="og:description" content="This is a processor for converting EWB CIM models into OpenDSS models."><link data-rh="true" rel="icon" href="/ewb/docs/opendss-model-processor/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://zepben.github.io/ewb/docs/opendss-model-processor/0.5.0/"><link data-rh="true" rel="alternate" href="https://zepben.github.io/ewb/docs/opendss-model-processor/0.5.0/" hreflang="en"><link data-rh="true" rel="alternate" href="https://zepben.github.io/ewb/docs/opendss-model-processor/0.5.0/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://3K6D3DR52K-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JG9JB2RSST"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JG9JB2RSST",{})</script>



<link rel="search" type="application/opensearchdescription+xml" title="OpenDSS Model Processor" href="/ewb/docs/opendss-model-processor/opensearch.xml"><link rel="stylesheet" href="/ewb/docs/opendss-model-processor/assets/css/styles.ad07265d.css">
<link rel="preload" href="/ewb/docs/opendss-model-processor/assets/js/runtime~main.f4066667.js" as="script">
<link rel="preload" href="/ewb/docs/opendss-model-processor/assets/js/main.d2257325.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.zepben.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/ewb/docs/opendss-model-processor/img/logo.svg" alt="Zepben" class="themedImage_ToTc themedImage--light_HNdA"><img src="/ewb/docs/opendss-model-processor/img/logo-dark.svg" alt="Zepben" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a href="https://zepben.github.io/evolve/docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Evolve</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ewb/docs/opendss-model-processor/">Docs</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/ewb/docs/opendss-model-processor/release-notes">Release Notes</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/ewb/docs/opendss-model-processor/0.5.0/">0.5.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/ewb/docs/opendss-model-processor/next/">Next</a></li><li><a class="dropdown__link" href="/ewb/docs/opendss-model-processor/0.6.1/">0.6.1</a></li><li><a class="dropdown__link" href="/ewb/docs/opendss-model-processor/0.6.0/">0.6.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/ewb/docs/opendss-model-processor/0.5.0/">0.5.0</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/ewb/docs/opendss-model-processor/0.5.0/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ewb/docs/opendss-model-processor/0.5.0/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ewb/docs/opendss-model-processor/0.5.0/network-fixer">Network Fixer</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->OpenDSS Model Processor<!-- --> <b>0.5.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/ewb/docs/opendss-model-processor/0.6.1/">latest version</a></b> (<!-- -->0.6.1<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/ewb/docs/opendss-model-processor/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Overview</span><meta itemprop="position" content="1"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 0.5.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>OpenDSS Model Processor</h1><p>This is a processor for converting EWB CIM models into OpenDSS models.</p><h1>Docker image</h1><p>The docker image relies on the <code>start-processor.sh</code> script as an entrypoint for the container. This script enables us to pass settings (<code>-D*</code>) to the JVM through
environment variables. It is currently only used for our logback settings for pushing log messages to the results database, based on the provided logback configuration.</p><p>The valid environment variable settings are:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">JVM_LOGBACK_ARGS=-Dlogdb.host=&lt;host of log database&gt; -Dlogdb.port=&lt;db port&gt; -Dlogdb.name=&lt;name of database with logs table&gt; -Dlogdb.user=&lt;user&gt; -Dlogdb.password=&lt;password&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can also set heap settings via <code>JAVA_TOOL_OPTIONS</code>. These will be automatically picked up by the JVM.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">JAVA_TOOL_OPTIONS=-Xmx8g -Xms1g</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To pass them to the container use:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">export JVM_LOGBACK_ARGS=...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">export JAVA_TOOL_OPTIONS=...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -e JVM_LOGBACK_ARGS=$JVM_LOGBACK_ARGS -e JAVA_TOOL_OPTIONS=$JAVA_TOOL_OPTIONS opendss-generator ...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>Developing</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h2><p>The model processor retrieves configuration from either the CLI, environment variables, or the Job message.
The <code>Job</code> message has a field <code>generatorConfig</code> that consists of a base64, compressed JSON object built from the <code>GeneratorConfig</code>
in hosting-capacity-utils. This config should be preferred for passing config to the model processor, and can be utilised from the
commandline via the <code>-gc</code> argument.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="entraid-m2m-auth">EntraID M2M Auth<a href="#entraid-m2m-auth" class="hash-link" aria-label="Direct link to EntraID M2M Auth" title="Direct link to EntraID M2M Auth">​</a></h3><p>In order to use EntraID Managed Identity tokens, select <code>ewb-mode</code> as <code>M2M</code> and provide <code>ewb-client-id</code>. Skip the <code>ewb-client-secret</code> (do not provide it at all!).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fixed-time-models">Fixed time models<a href="#fixed-time-models" class="hash-link" aria-label="Direct link to Fixed time models" title="Direct link to Fixed time models">​</a></h3><p>To generate a fixed time model you can produce either a calibration model or a normal interval data model. A calibration model
sources its data from a specific table with 5 minute AMI meter data <code>pqv</code>, which can be used for calibration of the model.
While an interval data model uses the available load data typically used within the models to produce a point-in-time model.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="calibration">Calibration<a href="#calibration" class="hash-link" aria-label="Direct link to Calibration" title="Direct link to Calibration">​</a></h4><p>Calibration models are used with real AMI meter data to help determine tap settings for transformers within the network.
If the user has enough AMI data within their feeders it is possible to use the results from these calibration models to estimate
transformer tap settings, which can then be re-applied to the network for future load flows.
The PQV table must have entries for enough NMI&#x27;s/meters in the feeder, and an EnergyMeter should be created for each desired EnergyConsumer you want to calibrate
with for accurate calibration. You can configure which EnergyMeters are created by using the <code>energyConsumerMeters</code> option or <code>energy_consumer_meters</code> table.</p><p>To create a calibration model you must specify a single time to the <code>--time</code> property and the <code>--calibration</code> flag.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="point-in-time-model">Point-in-time model<a href="#point-in-time-model" class="hash-link" aria-label="Direct link to Point-in-time model" title="Direct link to Point-in-time model">​</a></h4><p>The point-in-time model can be used to debug a single time step of a yearly model. This setting will query the <code>interval_data</code> table at
the requested time, offset by the configured timezone (<code>--timezone</code>). To create a point-in-time model you must specify a single time to
the <code>--time</code> property (NOTE: not <code>--times</code>).</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/ewb/docs/opendss-model-processor/0.5.0/configuration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a><ul><li><a href="#entraid-m2m-auth" class="table-of-contents__link toc-highlight">EntraID M2M Auth</a></li><li><a href="#fixed-time-models" class="table-of-contents__link toc-highlight">Fixed time models</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Zeppelin Bend Pty. Ltd.</div></div></div></footer></div>
<script src="/ewb/docs/opendss-model-processor/assets/js/runtime~main.f4066667.js"></script>
<script src="/ewb/docs/opendss-model-processor/assets/js/main.d2257325.js"></script>
</body>
</html>