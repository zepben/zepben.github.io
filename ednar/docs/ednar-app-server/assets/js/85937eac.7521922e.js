"use strict";(self.webpackChunkednar_app_server=self.webpackChunkednar_app_server||[]).push([["4139"],{24761:function(e,n,r){r.r(n),r.d(n,{metadata:()=>t,default:()=>h,frontMatter:()=>a,contentTitle:()=>o,toc:()=>d,assets:()=>l});var t=JSON.parse('{"id":"ednar-api-server","title":"EDNAR API Server","description":"The EDNAR Web API server exposes many end points which are consumed by the EDNAR web client to provide functionality to the end user. When authentication is configured, all requests to this server must contain a valid JWT.","source":"@site/docs/ednar-api-server.md","sourceDirName":".","slug":"/ednar-api-server","permalink":"/ednar/docs/ednar-app-server/next/ednar-api-server","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"ednar-api-server","title":"EDNAR API Server","slug":"/ednar-api-server"},"sidebar":"sidebar","previous":{"title":"DMS Integration","permalink":"/ednar/docs/ednar-app-server/next/dms"},"next":{"title":"EDNAR API Server Configuration","permalink":"/ednar/docs/ednar-app-server/next/ednar-api-server-configuration"}}'),s=r(74848),i=r(28453);let a={id:"ednar-api-server",title:"EDNAR API Server",slug:"/ednar-api-server"},o,l={},d=[{value:"Required Software",id:"required-software",level:2},{value:"Starting and Stopping the Web Server",id:"starting-and-stopping-the-web-server",level:2},{value:"Start",id:"start",level:3},{value:"Stop",id:"stop",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Database Object Management",id:"database-object-management",level:2},{value:"Physical Location on Server",id:"physical-location-on-server",level:2},{value:"Deployment Steps",id:"deployment-steps",level:2},{value:"Rollback Steps",id:"rollback-steps",level:2}];function c(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"The EDNAR Web API server exposes many end points which are consumed by the EDNAR web client to provide functionality to the end user. When authentication is configured, all requests to this server must contain a valid JWT."}),"\n",(0,s.jsxs)(n.p,{children:["EDNAR Web API server is hosted on Vertx web server (",(0,s.jsx)(n.code,{children:"https://vertx.io"}),")"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Screenshot",src:r(1141).A+"",width:"1352",height:"786"})}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsx)(n.h2,{id:"required-software",children:"Required Software"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Windows operating system (Windows Server 2012)"}),"\n",(0,s.jsx)(n.li,{children:"Java SE 11 x64"}),"\n"]}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsx)(n.h2,{id:"starting-and-stopping-the-web-server",children:"Starting and Stopping the Web Server"}),"\n",(0,s.jsx)(n.h3,{id:"start",children:"Start"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Open Powershell"}),"\n",(0,s.jsx)(n.li,{children:"Navigate to the folder that contains the EDNAR Web API binaries"}),"\n",(0,s.jsx)(n.li,{children:"Run the command java -jar ./ednar/ednar.jar -c ./ednar/config.json"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"stop",children:"Stop"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Focus on the Powershell window."}),"\n",(0,s.jsx)(n.li,{children:"Press the key combination Ctrl + C."}),"\n",(0,s.jsx)(n.li,{children:"Close the Powershell window."}),"\n"]}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["Please see ",(0,s.jsx)(n.a,{href:"./ednar-api-server-configuration",children:"EDNAR API Server Configuration"})]}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsx)(n.h2,{id:"database-object-management",children:"Database Object Management"}),"\n",(0,s.jsxs)(n.p,{children:["EDNAR uses Ebean (",(0,s.jsx)(n.a,{href:"https://ebean.io/",children:"https://ebean.io/"}),") as the Object Relational Mapper. It uses Liquibase (",(0,s.jsx)(n.code,{children:"http://www.liquibase.org/"}),") for database schema creation and migration."]}),"\n",(0,s.jsx)(n.p,{children:"When EDNAR starts, it runs a set of liquibase scripts to perform schema creation and migration. Unfortunately, Oracle doesn't provide transactions for DDL statements (other RDBMS claim to support this). This means there is a potential for the DB to end up in an incomplete state if for some reason a migration fails. In this case, restoring from a DB backup or manual intervention will be required."}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsx)(n.h2,{id:"physical-location-on-server",children:"Physical Location on Server"}),"\n",(0,s.jsx)(n.p,{children:"The physical location of EDNAR Web API binaries is C:\\EDNAR\\Server. A different location can be chosen if desired. However, this document assumes the use of this location."}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsx)(n.h2,{id:"deployment-steps",children:"Deployment Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Stop server"}),"\n",(0,s.jsx)(n.li,{children:"Backup Oracle database"}),"\n",(0,s.jsx)(n.li,{children:"Backup existing files from previous version"}),"\n",(0,s.jsx)(n.li,{children:"Extract files from new release package into the Web API folder"}),"\n",(0,s.jsx)(n.li,{children:"Make any appropriate configuration changes as per release notes"}),"\n",(0,s.jsx)(n.li,{children:"Run any database scripts as per release notes"}),"\n",(0,s.jsx)(n.li,{children:"Start server"}),"\n"]}),"\n",(0,s.jsx)("hr",{}),"\n",(0,s.jsx)(n.h2,{id:"rollback-steps",children:"Rollback Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Stop server"}),"\n",(0,s.jsx)(n.li,{children:"Restore Oracle database from database backup."}),"\n",(0,s.jsx)(n.li,{children:"Restore from backup files from previous Web API version"}),"\n",(0,s.jsx)(n.li,{children:"Start server"}),"\n"]}),"\n",(0,s.jsx)("hr",{})]})}function h(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},1141:function(e,n,r){r.d(n,{A:()=>t});let t=r.p+"assets/images/EDNAR_WebAPIServer-82589524b87e890e7322c439bfb72820.png"},28453:function(e,n,r){r.d(n,{R:()=>a,x:()=>o});var t=r(96540);let s={},i=t.createContext(s);function a(e){let n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);