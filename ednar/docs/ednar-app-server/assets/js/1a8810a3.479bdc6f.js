"use strict";(self.webpackChunkednar_app_server=self.webpackChunkednar_app_server||[]).push([["4195"],{80673:function(e,r,s){s.r(r),s.d(r,{metadata:()=>t,default:()=>o,frontMatter:()=>a,contentTitle:()=>x,toc:()=>j,assets:()=>c});var t=JSON.parse('{"id":"api/graphql","title":"GraphQL API","description":"EDNAR has a GraphQL accessible at POST /api/v0/graphql. Queries can be made to this API using","source":"@site/docs/api/graphql.mdx","sourceDirName":"api","slug":"/api/graphql","permalink":"/ednar/docs/ednar-app-server/next/api/graphql","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"graphql","title":"GraphQL API","slug":"/api/graphql","hide_table_of_contents":true},"sidebar":"sidebar","previous":{"title":"Customer Details","permalink":"/ednar/docs/ednar-app-server/next/api/customers"},"next":{"title":"Notification Events","permalink":"/ednar/docs/ednar-app-server/next/api/notifications"}}'),d=s(74848),i=s(28453),n=s(37388);let a={id:"graphql",title:"GraphQL API",slug:"/api/graphql",hide_table_of_contents:!0},x,c={},j=[];function l(e){let r={a:"a",code:"code",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(r.p,{children:["EDNAR has a GraphQL accessible at ",(0,d.jsx)(r.strong,{children:"POST"})," ",(0,d.jsx)(r.code,{children:"/api/v0/graphql"}),". Queries can be made to this API using\n",(0,d.jsx)(r.a,{href:"https://graphql.org/learn/queries/",children:"GraphQL query syntax"}),"."]}),"\n",(0,d.jsxs)(r.p,{children:["EDNAR's GraphQL API is largely self-documenting through the\n",(0,d.jsx)(r.a,{href:"https://graphql.org/learn/introspection/",children:"GraphQL introspection system"}),". However, below is a list of some of the available queries\nand mutations, their arguments, available fields, and an example query for each. This should provide a good starting\npoint to using the GraphQL API."]}),"\n",(0,d.jsxs)(r.table,{children:[(0,d.jsx)(r.thead,{children:(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.th,{children:"Query"}),(0,d.jsx)(r.th,{children:"Arguments"}),(0,d.jsx)(r.th,{children:"Available Fields (top level)"}),(0,d.jsx)(r.th,{children:"Example Query"})]})}),(0,d.jsxs)(r.tbody,{children:[(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"getNar"}),(0,d.jsx)(r.td,{children:"id: Long"}),(0,d.jsxs)(r.td,{children:[(0,d.jsx)(r.code,{children:"id"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"state"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"locks"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"accessType"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"jobType"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"primaryEquipmentContainer"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"location"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"workType"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"startDateTime"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"endDateTime"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"alternateStartDateTime"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"alternateEndDateTime"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"hasCustomerNotification"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"questions"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"participants"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"interestedParties"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"attachments"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"comments"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"accessAuthorities"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"customerNotificationTasks"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"planningArea"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"controlDesk"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"narTransitions"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"planners"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"lastUpdatedAt"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"clashDetectionTimestamp"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"annotation"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"peekBranchId"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"dmsSwitchingDetails"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"lvSwitchingSteps"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"generators"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"additionalEqContainers"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"accessReason"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"linkedNars"})]}),(0,d.jsx)(r.td,{children:(0,d.jsxs)(n.A,{language:"json",children:["{",(0,d.jsx)("br",{}),"  getNar(id: 1) {",(0,d.jsx)("br",{}),"    id",(0,d.jsx)("br",{}),"    location",(0,d.jsx)("br",{}),"    startDateTime",(0,d.jsx)("br",{}),"    endDateTime",(0,d.jsx)("br",{}),"    accessAuthorities {",(0,d.jsx)("br",{}),"      id",(0,d.jsx)("br",{}),"      workToBeDone",(0,d.jsx)("br",{}),"      apparatusToBeCovered {",(0,d.jsx)("br",{}),"        assetId",(0,d.jsx)("br",{}),"        lngLats {",(0,d.jsx)("br",{}),"          latitude",(0,d.jsx)("br",{}),"          longitude",(0,d.jsx)("br",{}),"        }",(0,d.jsx)("br",{}),"      }",(0,d.jsx)("br",{}),"    }",(0,d.jsx)("br",{}),"  }",(0,d.jsx)("br",{}),"}"]})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"searchNars"}),(0,d.jsxs)(r.td,{children:["criteria: NAR Search Statement object",(0,d.jsx)("br",{})," pageNumber: Integer",(0,d.jsx)("br",{}),"pageSize: Integer",(0,d.jsx)("br",{}),"sortField: ",(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"ID"})," ",(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"NAR_STATE"})," ",(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"START_DATE_TIME"})," ",(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"END_DATE_TIME"}),(0,d.jsx)("br",{}),"sortOrder: ",(0,d.jsx)(r.code,{children:"ASC"}),"/",(0,d.jsx)(r.code,{children:"DESC"})]}),(0,d.jsxs)(r.td,{children:[(0,d.jsx)(r.code,{children:"pageNumber"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"pageSize"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"sortField"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"sortOrder"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"totalResultCount"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"results"})]}),(0,d.jsx)(r.td,{children:(0,d.jsxs)(n.A,{children:["{",(0,d.jsx)("br",{}),"  getNarComments(narId: 61, pageNumber: 0, pageSize: 100, sortOrder: ASC) {",(0,d.jsx)("br",{}),"    totalResultCount",(0,d.jsx)("br",{}),"    results {",(0,d.jsx)("br",{}),"      commentText",(0,d.jsx)("br",{}),"      user {",(0,d.jsx)("br",{}),"        firstName",(0,d.jsx)("br",{}),"        lastName",(0,d.jsx)("br",{}),"      }",(0,d.jsx)("br",{}),"    }",(0,d.jsx)("br",{}),"  }",(0,d.jsx)("br",{}),"}"]})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"getNarComments"}),(0,d.jsxs)(r.td,{children:["narId: Long",(0,d.jsx)("br",{}),"pageNumber: Integer",(0,d.jsx)("br",{}),"pageSize: Integer",(0,d.jsx)("br",{}),"sortOrder: ",(0,d.jsx)(r.code,{children:"ASC"}),"/",(0,d.jsx)(r.code,{children:"DESC"})]}),(0,d.jsxs)(r.td,{children:[(0,d.jsx)(r.code,{children:"pageNumber"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"pageSize"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"totalResultCount"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"results"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"sortOrder"}),(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"pinnedComments"})]}),(0,d.jsx)(r.td,{children:(0,d.jsxs)(n.A,{children:["{",(0,d.jsx)("br",{}),"  searchNars(",(0,d.jsx)("br",{}),"    criteria: {",(0,d.jsx)("br",{}),"      expression: {",(0,d.jsx)("br",{}),"        operator: AND",(0,d.jsx)("br",{}),"        operands: [",(0,d.jsx)("br",{}),"          {",(0,d.jsx)("br",{}),"            criteria: {",(0,d.jsx)("br",{}),"              field: NAR_STATE",(0,d.jsx)("br",{}),"              comparator: EQ",(0,d.jsx)("br",{}),'              value: { stringValue: "DRAFT" }',(0,d.jsx)("br",{}),"            }",(0,d.jsx)("br",{}),"          }",(0,d.jsx)("br",{}),"          {",(0,d.jsx)("br",{}),"            criteria: {",(0,d.jsx)("br",{}),"              field: NAR_QUESTION",(0,d.jsx)("br",{}),"              comparator: EQ",(0,d.jsx)("br",{}),'              value: { questionValue: { id: 8, answer: "true" } }',(0,d.jsx)("br",{}),"            }",(0,d.jsx)("br",{}),"          }",(0,d.jsx)("br",{}),"        ]",(0,d.jsx)("br",{}),"      }",(0,d.jsx)("br",{}),"    }",(0,d.jsx)("br",{}),"    pageNumber: 0",(0,d.jsx)("br",{}),"    pageSize: 4",(0,d.jsx)("br",{}),"  ) {",(0,d.jsx)("br",{}),"    pageNumber",(0,d.jsx)("br",{}),"    pageSize",(0,d.jsx)("br",{}),"    sortField",(0,d.jsx)("br",{}),"    sortOrder",(0,d.jsx)("br",{}),"    results {",(0,d.jsx)("br",{}),"      id",(0,d.jsx)("br",{}),"      state {",(0,d.jsx)("br",{}),"        name",(0,d.jsx)("br",{}),"      }",(0,d.jsx)("br",{}),"    }",(0,d.jsx)("br",{}),"  }",(0,d.jsx)("br",{}),"}"]})})]})]})]})]})}function o(e={}){let{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,d.jsx)(r,{...e,children:(0,d.jsx)(l,{...e})}):l(e)}}}]);