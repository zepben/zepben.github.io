"use strict";(self.webpackChunkednar_app_server=self.webpackChunkednar_app_server||[]).push([["5635"],{64601:function(e,t,s){s.r(t),s.d(t,{metadata:()=>r,default:()=>o,frontMatter:()=>d,contentTitle:()=>c,toc:()=>l,assets:()=>h});var r=JSON.parse('{"id":"templates","title":"Templates","description":"Configuring Templates","source":"@site/docs/templates.md","sourceDirName":".","slug":"/templates","permalink":"/ednar/docs/ednar-app-server/next/templates","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"templates","title":"Templates","slug":"/templates"},"sidebar":"sidebar","previous":{"title":"Criteria","permalink":"/ednar/docs/ednar-app-server/next/criteria"},"next":{"title":"Target Groups","permalink":"/ednar/docs/ednar-app-server/next/target-groups"}}'),i=s(74848),n=s(28453);let d={id:"templates",title:"Templates",slug:"/templates"},c,h={},l=[{value:"Configuring Templates",id:"configuring-templates",level:2},{value:"Notification Template Actions",id:"notification-template-actions",level:2},{value:"Email Template Tags",id:"email-template-tags",level:2},{value:"NAR Tags",id:"nar-tags",level:3},{value:"Users",id:"users",level:3},{value:"User Details tags",id:"user-details-tags",level:4},{value:"Organisation tags",id:"organisation-tags",level:4},{value:"Customer Notification Task tags",id:"customer-notification-task-tags",level:4},{value:"Access Authority tags",id:"access-authority-tags",level:4},{value:"Network Operator tags",id:"network-operator-tags",level:4},{value:"iCal Tags",id:"ical-tags",level:3},{value:"Tag Usage",id:"tag-usage",level:3},{value:"Example Template",id:"example-template",level:4}];function a(e){let t={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"configuring-templates",children:"Configuring Templates"}),"\n",(0,i.jsxs)(t.p,{children:["Notification templates can be viewed using the admin app by navigating to the ",(0,i.jsx)(t.code,{children:"Configuration -> Notification Management -> Templates"})," page from the top menu."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Templates",src:s(25941).A+"",width:"1907",height:"949"})}),"\n",(0,i.jsxs)(t.p,{children:["A new template can be created by using the ",(0,i.jsx)(t.code,{children:"Create Template"})," button on the top right next to the search control."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Creating template",src:s(46019).A+"",width:"1643",height:"880"})}),"\n",(0,i.jsx)(t.p,{children:"A template needs the following :"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"NAR Action"})," - An action from a predefined set of triggers on which the notification needs to be sent. See ",(0,i.jsx)(t.a,{href:"#notification-template-actions",children:"Template Actions"})," for the full list of available actions with descriptions."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"Access Type"})," - (Optional) Determines which Access Type this notification template will apply to. If left blank the template will apply to NARs of all Access Types."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"Target Group"})," - A target group from a preconfigured set of target groups. For configuring target groups refer to ",(0,i.jsx)(t.a,{href:"./config-schema#notification-target-groups",children:"target groups config"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"Notification Type"})," - Method to notify target group."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"Criteria"})," - Criteria under which notification needs to be sent. For configuring criteria refer to ",(0,i.jsx)(t.a,{href:"./criteria",children:"configuring criteria"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"Subject"})," - Notification subject line."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"Reply To Address"})," - Optional email address to be included as the email's Reply-To address. Supports use of template tags containing email addresses."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"isHtml"})," - Whether the notification body is an ",(0,i.jsx)(t.code,{children:"html"})," block."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"Audit Log Notification Content"})," - Whether the notification body should be included in the audit logs for the notification."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"Body"})," - Notification body which can either be plain text or an ",(0,i.jsx)(t.code,{children:"html"})," block. See ",(0,i.jsx)(t.a,{href:"#email-template-tags",children:"Email Template Tags"})," below for details on this HTML."]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["After creating the template click on the ",(0,i.jsx)(t.code,{children:"Save"})," button on the top right to save it."]}),"\n",(0,i.jsx)(t.h2,{id:"notification-template-actions",children:"Notification Template Actions"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Value"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"ACCEPT_NAR"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is Accepted from the Submitted state."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"ASSIGN_PLANNER"})}),(0,i.jsx)(t.td,{children:"Triggers when a planner is assigned to a NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"CANCEL_NAR"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is cancelled."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"RECALL_NAR"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is Recalled from Submitted."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"COMPLETE_NAR"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is completed."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"MORE_INFO_NAR"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is sent back to Draft for more information."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"REJECT_NAR"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is rejected/declined."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"REMOVE_PLANNER"})}),(0,i.jsx)(t.td,{children:"Triggers when a planner is removed from a NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"SUBMIT_NAR_SUBMITTED"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is submitted into the Submitted state."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"SUBMIT_NAR_PENDING"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is submitted into the Pending Submission state."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"CREATED_IN_DMS"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is created in the DMS."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"UPDATE_FROM_DMS"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is updated via the DMS Outbound SOAP interface."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"DMS_REVOKED_SUBMITTED"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is transitioned from DMS Submitted to DMS Created via the DMS Outbound SOAP interface."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"DMS_REVOKED_PRECHECKED"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is transitioned from DMS Prechecked to DMS Created via the DMS Outbound SOAP interface."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"DMS_REVOKED_APPROVED"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is transitioned from DMS Approved to DMS Created via the DMS Outbound SOAP interface."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"DMS_SUBMITTED"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is transitioned to DMS Submitted via the DMS Outbound SOAP interface."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"DMS_PRECHECKED"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is transitioned to DMS Prechecked via the DMS Outbound SOAP interface."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"DMS_APPROVED"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is transitioned to DMS Approved via the DMS Outbound SOAP interface."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"DMS_SWITCHING"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is transitioned to DMS Switching Commenced via the DMS Outbound SOAP interface."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"DMS_COMPLETED"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is transitioned to DMS Completed via the DMS Outbound SOAP interface."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"ASSIGN_OPERATOR"})}),(0,i.jsx)(t.td,{children:"Triggers when an operator is assigned to a NAR/Access Authority in the Operator Checklist."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"REMOVE_OPERATOR"})}),(0,i.jsx)(t.td,{children:"Triggers when an operator is removed from a NA/Access Authority in the Operator Checklist."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"NAR_COMMENT_ADDED"})}),(0,i.jsx)(t.td,{children:"Triggers when a comment is left on a NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"NAR_COMMENT_UPDATED"})}),(0,i.jsx)(t.td,{children:"Triggers when a comment is updated on a NAR. Currently unused."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"CREATE_CALENDAR_EVENT"})}),(0,i.jsx)(t.td,{children:"Triggers when a calendar event is created via the Admin console."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"UPDATE_CALENDAR_EVENT"})}),(0,i.jsx)(t.td,{children:"Triggers when a calendar event is updated via the Admin console."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"CHECKLIST_QUESTION_ANSWER_CHANGED"})}),(0,i.jsx)(t.td,{children:"Triggers when a checklist question answer is changed. Must be used with Notification Criteria to specify the question and required answer."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"NAR_START_TIME_REMINDER"})}),(0,i.jsx)(t.td,{children:"Triggers when the template's Start and End threshold based on the NAR's start time is reached."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"NAR_END_TIME_REMINDER"})}),(0,i.jsx)(t.td,{children:"Triggers when the template's Start and End threshold based on the NAR's end time is reached."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"RESCHEDULE_NAR"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is Rescheduled."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"SUBMIT_NAR_RESCHEDULE"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is resubmitted from Rescheduling."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"ACCEPT_NAR_RESCHEDULE"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is accepted from Resubmitted."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"NAR_FORCED_STATE_TRANSITION"})}),(0,i.jsx)(t.td,{children:"Triggers when a NAR is moved to a state it should not have been allowed to. Typically used when a Rescheduling NAR is transitioned to DMS Switching Commenced via the DMS interface."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"REJECT_RESUBMITTED_NAR"})}),(0,i.jsx)(t.td,{children:"Triggers when a Resubmitted NAR is rejected/declined."})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"email-template-tags",children:"Email Template Tags"}),"\n",(0,i.jsxs)(t.p,{children:["When creating HTML email templates, special tags can be used to insert data from NARs into both the email subject line and email body. These tags are identified in the code by surrounding them with 3 pairs of braces: ",(0,i.jsx)(t.code,{children:"{{{tag}}}"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"Included below is a list of available tags and their descriptions. More information and examples on the use of these tags is included underneath."}),"\n",(0,i.jsx)(t.h3,{id:"nar-tags",children:"NAR Tags"}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Prefix"}),(0,i.jsx)(t.th,{children:"Tag"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"id"})}),(0,i.jsx)(t.td,{children:"The ID of the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"state"})}),(0,i.jsx)(t.td,{children:"The state of the NAR. This refers to the new state of the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"startDateTime"})}),(0,i.jsx)(t.td,{children:"The start date and time of the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"endDateTime"})}),(0,i.jsx)(t.td,{children:"The end date and time of the NAR"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"alternateStartDateTime"})}),(0,i.jsx)(t.td,{children:"The alternate start date and time of the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"alternateEndDateTime"})}),(0,i.jsx)(t.td,{children:"The alternate end date and time of the NAR"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"jobType"})}),(0,i.jsx)(t.td,{children:"The Job Type (or Switching Type) of the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"accessType"})}),(0,i.jsx)(t.td,{children:"The Access Type of the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"planningArea"})}),(0,i.jsx)(t.td,{children:"The Planning Area name of the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"controlDesk"})}),(0,i.jsx)(t.td,{children:"The Control Desk name of the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"planningAreaEmail"})}),(0,i.jsx)(t.td,{children:"The Planning Area email of the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"controlDeskEmail"})}),(0,i.jsx)(t.td,{children:"The Control Desk email of the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"primaryFeeder"})}),(0,i.jsx)(t.td,{children:"The Primary Feeder listed on the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"location"})}),(0,i.jsx)(t.td,{children:"The location of the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"workType"})}),(0,i.jsx)(t.td,{children:"The work type listed on the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"dmsId"})}),(0,i.jsx)(t.td,{children:"The ID of the DMS job associated with the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"depot"})}),(0,i.jsx)(t.td,{children:"The name of the depot associated with the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"region"})}),(0,i.jsx)(t.td,{children:"The name of the region of the depot associated with the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"organisation"})}),(0,i.jsxs)(t.td,{children:["The name and details of the organisation associated with the NAR. See ",(0,i.jsx)(t.a,{href:"#organisation-tags",children:"Organisation Tags"}),"."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"customerNotificationTasks"})}),(0,i.jsxs)(t.td,{children:["The customer notification tasks belonging to the NAR. See ",(0,i.jsx)(t.a,{href:"#customer-notification-task-tags",children:"Notification Task Tags"}),"."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"accessAuthorities"})}),(0,i.jsxs)(t.td,{children:["The access authorities belonging to a NAR. See ",(0,i.jsx)(t.a,{href:"#access-authority-tags",children:"Access Authority Tags"}),"."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"url"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"ednar"})}),(0,i.jsxs)(t.td,{children:["The base URL of EDNAR as configured in the ",(0,i.jsx)(t.a,{href:"/ednar/docs/ednar-app-server/next/app-options",children:"App Options"}),"."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"url"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar"})}),(0,i.jsx)(t.td,{children:"The URL of the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"url"})}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"narReport"})}),(0,i.jsx)(t.td,{children:"The base URL of the NAR Report PDF print-out. Note that you will need to include the URL report parameters as well (see example below)."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"actionComment"})}),(0,i.jsx)(t.td,{children:"The comment left when the triggering action was performed (if available)."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{}),(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"actionReasons"})}),(0,i.jsx)(t.td,{children:"The reason provided when the triggering action was performed (if available)."})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"users",children:"Users"}),"\n",(0,i.jsx)(t.p,{children:"These tags each reference a specific user (or users) related to the NAR. The user details that can be accessed with each tag are the same, and are included underneath."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"User Tag"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nar.planners"})}),(0,i.jsx)(t.td,{children:"The user(s) that are assigned as Planners on the NAR. This tag will return details for each Planner user assigned on the NAR."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"recipient"})}),(0,i.jsx)(t.td,{children:"The user that is receiving the email. If the email is sent to multiple people, these details will be specific to each recipient."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"actionUser"})}),(0,i.jsx)(t.td,{children:"The user that performed the action that triggered the notification."})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"user-details-tags",children:"User Details tags"}),"\n",(0,i.jsx)(t.p,{children:"These tags can be used for each of the above user types."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Tag"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"firstName"})}),(0,i.jsx)(t.td,{children:"The first name of the user."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"lastName"})}),(0,i.jsx)(t.td,{children:"The last name of the user."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"email"})}),(0,i.jsx)(t.td,{children:"The email address of the user."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"mobile"})}),(0,i.jsx)(t.td,{children:"The mobile number of the user."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"phone"})}),(0,i.jsx)(t.td,{children:"The phone number of the user."})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"organisation-tags",children:"Organisation tags"}),"\n",(0,i.jsx)(t.p,{children:"These tags can be used for the Organisation of the NAR."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Tag"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"name"})}),(0,i.jsx)(t.td,{children:"Name of the organisation"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"description"})}),(0,i.jsx)(t.td,{children:"Description of the organisation."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"colour1"})}),(0,i.jsx)(t.td,{children:"Primary (inner) colour for the organisation as a hex code."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"colour2"})}),(0,i.jsx)(t.td,{children:"Secondary (outer) colour for the organisation as a hex code."})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"customer-notification-task-tags",children:"Customer Notification Task tags"}),"\n",(0,i.jsx)(t.p,{children:"These tags can be used for the customer notification tasks on a NAR."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Tag"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"outageType"})}),(0,i.jsx)(t.td,{children:"Outage Type of the task"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"description"})}),(0,i.jsx)(t.td,{children:"Description of the task"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"outageStart"})}),(0,i.jsx)(t.td,{children:"Outage Start time of the task"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"outageEnd"})}),(0,i.jsx)(t.td,{children:"Outage End time of the task"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"deliveryMethod"})}),(0,i.jsx)(t.td,{children:"Delivery Method of the task"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"orderStatus"})}),(0,i.jsx)(t.td,{children:"Order Status of the task"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"saidiMinutes"})}),(0,i.jsx)(t.td,{children:"SAIDI/CMOS value of the task"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"nmis"})}),(0,i.jsx)(t.td,{children:"List of NMIs included in the task"})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"access-authority-tags",children:"Access Authority tags"}),"\n",(0,i.jsx)(t.p,{children:"These tags can be used for the access authorities on a NAR."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Tag"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"authorityType"})}),(0,i.jsx)(t.td,{children:"Type of the access authority"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"apparatusToBeCoveredInfo"})}),(0,i.jsx)(t.td,{children:"Free-text description field text for the authority's Apparatus to be Covered."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"isolationPointsInfo"})}),(0,i.jsx)(t.td,{children:"Free-text description field text for the authority's Isolation Points"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"protectionDevicesInfo"})}),(0,i.jsx)(t.td,{children:"Free-text description field text for the authority's Protection Devices."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"recallTime"})}),(0,i.jsx)(t.td,{children:"Recall time for the authority in minutes"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"workToBeDone"})}),(0,i.jsx)(t.td,{children:"Work to be Done field of the authority"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"requiresSpecialRequirements"})}),(0,i.jsx)(t.td,{children:"True/False flag for if Special Requirements are required for the authority"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"specialRequirements"})}),(0,i.jsx)(t.td,{children:"Special Requirements text field of the authority"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"networkOperatorRequired"})}),(0,i.jsx)(t.td,{children:"True/False flag for if a network operator is required on the authority"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"locationOfPermitIssue"})}),(0,i.jsx)(t.td,{children:"Location of Permit Issue field on the authority"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"toBeIssuedToUser"})}),(0,i.jsx)(t.td,{children:"Username or text of the To Be Issued To field on the authority"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"issueDateTime"})}),(0,i.jsx)(t.td,{children:"Issue Date Time for the authority"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"cancelDateTime"})}),(0,i.jsx)(t.td,{children:"Cancel Date Time for the authority"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"operators"})}),(0,i.jsxs)(t.td,{children:["List of Operators assigned to the authority. See ",(0,i.jsx)(t.a,{href:"#network-operator-tags",children:"Network Operator Tags"}),"."]})]})]})]}),"\n",(0,i.jsx)(t.h4,{id:"network-operator-tags",children:"Network Operator tags"}),"\n",(0,i.jsx)(t.p,{children:"These tags can be used for the network operators on an access authority."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Tag"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"firstName"})}),(0,i.jsx)(t.td,{children:"First name of the operator"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"lastName"})}),(0,i.jsx)(t.td,{children:"Last name of the r"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"note"})}),(0,i.jsx)(t.td,{children:"Note/comment included when operator was assigned."})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"ical-tags",children:"iCal Tags"}),"\n",(0,i.jsx)(t.p,{children:"These tags can be used to create pre-formatted iCal (.ics) files and attach them to the email notifications. Note that these tags must follow the exact pattern specified here, and cannot be used as freely as other tags."}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Tag"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"{{nar.iCal}}"})}),(0,i.jsx)(t.td,{children:"iCal generated with the NAR details. Uses NAR's start and end times for event times."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"{{nar.accessAuthoritiesiCal}}"})}),(0,i.jsx)(t.td,{children:"iCal generated with the details of an Access Authority, one file per authority on the NAR. Uses authority's issue and cancel times for event times."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"{{nar.customerNotificationTasksiCal}}"})}),(0,i.jsx)(t.td,{children:"iCal generated with the details of a Customer Notification Task, one file per task on the NAR. Uses task's on and off times for event times."})]})]})]}),"\n",(0,i.jsx)(t.h3,{id:"tag-usage",children:"Tag Usage"}),"\n",(0,i.jsxs)(t.p,{children:["There are two main ways in which the tags can be used in the HTML templates. The first is by using the format ",(0,i.jsx)(t.code,{children:"{{{prefix.tag}}}"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["The second is with opening and closing tags, with the value tags included between. When using this method, only 2 braces are required around the opening and closing tags. ",(0,i.jsx)("br",{}),"\nThe format for this is: ",(0,i.jsx)(t.code,{children:"{{#openingTag}} {{{tag}}} {{{anotherTag}}} {{/closingTag}}"}),". This is useful where there are multiple fields required from the same source."]}),"\n",(0,i.jsx)(t.h4,{id:"example-template",children:"Example Template"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:'<table style="width: 601px;">\n<tbody>\n<tr>\n<td colspan="2"><strong>{{{nar.primaryFeeder}}} : {{{nar.location}}} : {{{nar.workType}}}</strong></td>\n</tr>\n<tr>\n<td><strong>From:</strong></td>\n<td>{{{nar.startDateTime}}}</td>\n</tr>\n<tr>\n<td><strong>To:</strong></td>\n<td>{{{nar.endDateTime}}}</td>\n</tr>\n</tbody>\n</table>\n<h2><span><strong>NAR {{{nar.id}}} has been {{{nar.state}}}</strong></span></h2>\n<table style="width: 450px;">\n<tbody>\n<tr>\n<td colspan="2"><strong>{{{nar.state}}} by: </strong> {{#actionUser}}{{{firstName}}} {{{lastName}}}{{/actionUser}}</td>\n</tr>\n<tr>\n<td><strong>Email:</strong></td>\n<td>{{#actionUser}}{{{email}}}{{/actionUser}}</td>\n</tr>\n<tr>\n<td><strong>Phone:</strong></td>\n<td>{{#actionUser}}{{{phone}}}{{/actionUser}}</td>\n</tr>\n<tr>\n<td><strong>Mobile:</strong></td>\n<td>{{#actionUser}}{{{mobile}}}{{/actionUser}}</td>\n</tr>\n</tbody>\n</table>\n<table style="width: 595px;">\n<tbody>\n<tr>\n<td><br /><strong>{{#recipient}}{{{firstName}}} {{{lastName}}}{{/recipient}}</strong>, you are receiving this email because you have been assigned as an <strong>Authorised Applicant</strong> in this Network Access Request.</td>\n</tr>\n<tr>\n<td>For any queries please contact the<strong> {{{nar.planningArea}}}</strong> planning area.</td>\n</tr>\n</tbody>\n</table>\n<table style="width: 444px;">\n<tbody>\n<tr>\n<td><br />View NAR:</td>\n<td><br /><a href="{{{url.nar}}}" target="_blank" rel="noopener">NAR {{{nar.id}}}</a></td>\n</tr>\n<tr>\n<td>NAR PDF:</td>\n<td><a href="{{{url.narReport}}}?includeFile=CUSTOMER_LISTS&includeFile=CHECKED_ATTACHMENTS&includeFile=NAR_SUMMARY&includeFile=SWITCHING_SCHEDULE">NAR {{{nar.id}}} PDF</a></td>\n</tr>\n</tbody>\n</table>\n<p>This Email has been generated automatically. <br />Please do not reply to this email.<br />Emails sent to this address cannot be answered.</p>\n	   \n\n'})}),"\n",(0,i.jsx)(t.p,{children:"The above template when sent as an email:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Email",src:s(5460).A+"",width:"757",height:"743"})})]})}function o(e={}){let{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},5460:function(e,t,s){s.d(t,{A:()=>r});let r=s.p+"assets/images/email-f768627d58ba47ad7856185983afd898.png"},46019:function(e,t,s){s.d(t,{A:()=>r});let r=s.p+"assets/images/new-template-57f19957bd6d2de85c0ce2a9071f4dd3.png"},25941:function(e,t,s){s.d(t,{A:()=>r});let r=s.p+"assets/images/templates-4dd7e633ba3ad57468586332b1ee0d09.png"},28453:function(e,t,s){s.d(t,{R:()=>d,x:()=>c});var r=s(96540);let i={},n=r.createContext(i);function d(e){let t=r.useContext(n);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(n.Provider,{value:t},e.children)}}}]);