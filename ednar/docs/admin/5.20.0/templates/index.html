<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/ednar/docs/admin/blog/rss.xml" title="EDNAR Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/ednar/docs/admin/blog/atom.xml" title="EDNAR Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","TRACKING_ID","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="EDNAR" href="/ednar/docs/admin/opensearch.xml"><title data-react-helmet="true">Templates | EDNAR</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="5.20.0"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-5.20.0"><meta data-react-helmet="true" name="docsearch:project" content="admin"><meta data-react-helmet="true" property="og:title" content="Templates | EDNAR"><meta data-react-helmet="true" name="description" content="Configuring Templates"><meta data-react-helmet="true" property="og:description" content="Configuring Templates"><meta data-react-helmet="true" property="og:url" content="https://zepben.github.io/ednar/docs/admin//ednar/docs/admin/5.20.0/templates"><link data-react-helmet="true" rel="shortcut icon" href="/ednar/docs/admin/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://3K6D3DR52K-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://zepben.github.io/ednar/docs/admin//ednar/docs/admin/5.20.0/templates"><link rel="stylesheet" href="/ednar/docs/admin/styles.2e7ead8c.css">
<link rel="preload" href="/ednar/docs/admin/styles.b7cb95d6.js" as="script">
<link rel="preload" href="/ednar/docs/admin/runtime~main.3990b0b8.js" as="script">
<link rel="preload" href="/ednar/docs/admin/main.44a79404.js" as="script">
<link rel="preload" href="/ednar/docs/admin/2.7f5987b9.js" as="script">
<link rel="preload" href="/ednar/docs/admin/208.dea70478.js" as="script">
<link rel="preload" href="/ednar/docs/admin/212.19698e65.js" as="script">
<link rel="preload" href="/ednar/docs/admin/57b9b438.05e572c0.js" as="script">
<link rel="preload" href="/ednar/docs/admin/207.e31a9e8d.js" as="script">
<link rel="preload" href="/ednar/docs/admin/8a6e61b5.3b567ba6.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a href="https://www.zepben.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/ednar/docs/admin/img/logo.svg" alt="Zepben" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/ednar/docs/admin/img/logo-dark.svg" alt="Zepben" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a><a href="https://zepben.github.io/ednar/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">EDNAR</a><a class="navbar__item navbar__link" href="/ednar/docs/admin/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ednar/docs/admin/5.20.0/">5.20.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/ednar/docs/admin/next/templates">Next</a></li><li><a class="dropdown__link" href="/ednar/docs/admin/templates">6.3.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/ednar/docs/admin/5.20.0/templates">5.20.0</a></li><li><a class="dropdown__link" href="/ednar/docs/admin/5.1.0/templates">5.1.0</a></li><li><a class="dropdown__link" href="/ednar/docs/admin/4.21.0/templates">4.21.0</a></li><li><a class="dropdown__link" href="/ednar/docs/admin/4.15.1/templates">4.15.1</a></li></ul></div><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><div class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></div></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="https://www.zepben.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/ednar/docs/admin/img/logo.svg" alt="Zepben" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/ednar/docs/admin/img/logo-dark.svg" alt="Zepben" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/ednar/docs/admin/next/templates">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/ednar/docs/admin/templates">6.3.0</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/ednar/docs/admin/5.20.0/templates">5.20.0</a></li><li class="menu__list-item"><a class="menu__link" href="/ednar/docs/admin/5.1.0/templates">5.1.0</a></li><li class="menu__list-item"><a class="menu__link" href="/ednar/docs/admin/4.21.0/templates">4.21.0</a></li><li class="menu__list-item"><a class="menu__link" href="/ednar/docs/admin/4.15.1/templates">4.15.1</a></li></ul></li><li class="menu__list-item"><a href="https://zepben.github.io/ednar/" target="_blank" rel="noopener noreferrer" class="menu__link">EDNAR</a></li><li class="menu__list-item"><a class="menu__link" href="/ednar/docs/admin/">Docs</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/ednar/docs/admin/5.20.0/">Home</a></li><li class="menu__list-item"><a class="menu__link" href="/ednar/docs/admin/5.20.0/high-level-introduction">High Level Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/ednar/docs/admin/5.20.0/nar-lifecycles">NAR Lifecycles</a></li><li class="menu__list-item"><a class="menu__link" href="/ednar/docs/admin/5.20.0/hardware-specification">Hardware Specification</a></li><li class="menu__list-item"><a class="menu__link" href="/ednar/docs/admin/5.20.0/dms">DMS Integration</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">EDNAR API Server</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ednar/docs/admin/5.20.0/ednar-api-server">EDNAR API Server</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ednar/docs/admin/5.20.0/ednar-api-server-configuration">EDNAR API Server Configuration</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Services and Integrations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ednar/docs/admin/5.20.0/ednar-web-client">EDNAR Web Client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ednar/docs/admin/5.20.0/ednar-reporting-service">EDNAR Reporting Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ednar/docs/admin/5.20.0/ednar-dms-agent">EDNAR DMS Agent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ednar/docs/admin/5.20.0/ewb">EWB</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ednar/docs/admin/5.20.0/peek">Peek DMS Diagram Viewer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ednar/docs/admin/5.20.0/ednar-controller-pdf">EDNAR Controller PDF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ednar/docs/admin/5.20.0/ednar-oms-service">EDNAR OMS Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ednar/docs/admin/5.20.0/ednar-user-management-service">EDNAR User Management Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ednar/docs/admin/5.20.0/ednar-ldap-user-sync-service">EDNAR LDAP User Sync Service</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">External APIs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ednar/docs/admin/5.20.0/api/customers">Customer Details</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ednar/docs/admin/5.20.0/api/notifications">Notification Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ednar/docs/admin/5.20.0/api/api/graphql">GraphQL API</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/ednar/docs/admin/5.20.0/config-schema">Database Config Schema</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Admin Configuration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ednar/docs/admin/5.20.0/user-management">User Management</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Notification Management</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ednar/docs/admin/5.20.0/criteria">Criteria</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/ednar/docs/admin/5.20.0/templates">Templates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ednar/docs/admin/5.20.0/target-groups">Target Groups</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ednar/docs/admin/5.20.0/system-notifications">System Notifications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ednar/docs/admin/5.20.0/app-options">App Options</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ednar/docs/admin/5.20.0/api-clients">API Clients</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/ednar/docs/admin/5.20.0/calendar-events">Calendar Events</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Other Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ednar/docs/admin/5.20.0/export-sql-server-config">Exporting SQL Server config</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ednar/docs/admin/5.20.0/debugging-steps">Steps to debug EDNAR</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/ednar/docs/admin/5.20.0/editing-clientoverrides-lang-files">Editing clientOverrides lang files</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for EDNAR <strong>5.20.0</strong>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/ednar/docs/admin/templates">latest version</a></strong> (6.3.0).</div></div><div class="docItemContainer_a7m4"><article><div><span class="badge badge--secondary">Version: 5.20.0</span></div><header><h1 class="docTitle_Oumm">Templates</h1></header><div class="markdown"><h2 id="configuring-templates">Configuring Templates</h2><p>Notification templates can be viewed using the admin app by navigating to the <code>Configuration -&gt; Notification Management -&gt; Templates</code> page from the top menu.</p><p><img alt="Templates" src="/ednar/docs/admin/assets/images/templates-4dd7e633ba3ad57468586332b1ee0d09.png"></p><p>A new template can be created by using the <code>Create Template</code> button on the top right next to the search control.</p><p><img alt="Creating template" src="/ednar/docs/admin/assets/images/new-template-57f19957bd6d2de85c0ce2a9071f4dd3.png"></p><p>A template needs the following : </p><ol><li><code>NAR Action</code> - An action from a predefined set of triggers on which the notification needs to be sent. See <a href="#notification-template-actions">Template Actions</a> for the full list of available actions with descriptions.</li><li><code>Access Type</code> - (Optional) Determines which Access Type this notification template will apply to. If left blank the template will apply to NARs of all Access Types.</li><li><code>Target Group</code> - A target group from a preconfigured set of target groups. For configuring target groups refer to <a href="./config-schema#notification-target-groups">target groups config</a>.</li><li><code>Notification Type</code> - Method to notify target group. </li><li><code>Criteria</code> - Criteria under which notification needs to be sent. For configuring criteria refer to <a href="./criteria">configuring criteria</a>.</li><li><code>Subject</code> - Notification subject line.</li><li><code>Reply To Address</code> - Optional email address to be included as the email&#x27;s Reply-To address. Supports use of template tags containing email addresses.</li><li><code>isHtml</code> - Whether the notification body is an <code>html</code> block.</li><li><code>Audit Log Notification Content</code> - Whether the notification body should be included in the audit logs for the notification.</li><li><code>Body</code> - Notification body which can either be plain text or an <code>html</code> block. See <a href="#email-template-tags">Email Template Tags</a> below for details on this HTML.   </li></ol><p>After creating the template click on the <code>Save</code> button on the top right to save it.</p><h2 id="notification-template-actions">Notification Template Actions</h2><table><thead><tr><th>Value</th><th>Description</th></tr></thead><tbody><tr><td><code>ACCEPT_NAR</code></td><td>Triggers when a NAR is Accepted from the Submitted state.</td></tr><tr><td><code>ASSIGN_PLANNER</code></td><td>Triggers when a planner is assigned to a NAR.</td></tr><tr><td><code>CANCEL_NAR</code></td><td>Triggers when a NAR is cancelled.</td></tr><tr><td><code>RECALL_NAR</code></td><td>Triggers when a NAR is Recalled from Submitted.</td></tr><tr><td><code>COMPLETE_NAR</code></td><td>Triggers when a NAR is completed.</td></tr><tr><td><code>MORE_INFO_NAR</code></td><td>Triggers when a NAR is sent back to Draft for more information.</td></tr><tr><td><code>REJECT_NAR</code></td><td>Triggers when a NAR is rejected/declined.</td></tr><tr><td><code>REMOVE_PLANNER</code></td><td>Triggers when a planner is removed from a NAR.</td></tr><tr><td><code>SUBMIT_NAR_SUBMITTED</code></td><td>Triggers when a NAR is submitted into the Submitted state.</td></tr><tr><td><code>SUBMIT_NAR_PENDING</code></td><td>Triggers when a NAR is submitted into the Pending Submission state.</td></tr><tr><td><code>CREATED_IN_DMS</code></td><td>Triggers when a NAR is created in the DMS.</td></tr><tr><td><code>UPDATE_FROM_DMS</code></td><td>Triggers when a NAR is updated via the DMS Outbound SOAP interface.</td></tr><tr><td><code>DMS_REVOKED_SUBMITTED</code></td><td>Triggers when a NAR is transitioned from DMS Submitted to DMS Created via the DMS Outbound SOAP interface.</td></tr><tr><td><code>DMS_REVOKED_PRECHECKED</code></td><td>Triggers when a NAR is transitioned from DMS Prechecked to DMS Created via the DMS Outbound SOAP interface.</td></tr><tr><td><code>DMS_REVOKED_APPROVED</code></td><td>Triggers when a NAR is transitioned from DMS Approved to DMS Created via the DMS Outbound SOAP interface.</td></tr><tr><td><code>DMS_SUBMITTED</code></td><td>Triggers when a NAR is transitioned to DMS Submitted via the DMS Outbound SOAP interface.</td></tr><tr><td><code>DMS_PRECHECKED</code></td><td>Triggers when a NAR is transitioned to DMS Prechecked via the DMS Outbound SOAP interface.</td></tr><tr><td><code>DMS_APPROVED</code></td><td>Triggers when a NAR is transitioned to DMS Approved via the DMS Outbound SOAP interface.</td></tr><tr><td><code>DMS_SWITCHING</code></td><td>Triggers when a NAR is transitioned to DMS Switching Commenced via the DMS Outbound SOAP interface.</td></tr><tr><td><code>DMS_COMPLETED</code></td><td>Triggers when a NAR is transitioned to DMS Completed via the DMS Outbound SOAP interface.</td></tr><tr><td><code>ASSIGN_OPERATOR</code></td><td>Triggers when an operator is assigned to a NAR/Access Authority in the Operator Checklist.</td></tr><tr><td><code>REMOVE_OPERATOR</code></td><td>Triggers when an operator is removed from a NA/Access Authority in the Operator Checklist.</td></tr><tr><td><code>NAR_COMMENT_ADDED</code></td><td>Triggers when a comment is left on a NAR.</td></tr><tr><td><code>NAR_COMMENT_UPDATED</code></td><td>Triggers when a comment is updated on a NAR. Currently unused.</td></tr><tr><td><code>CREATE_CALENDAR_EVENT</code></td><td>Triggers when a calendar event is created via the Admin console.</td></tr><tr><td><code>UPDATE_CALENDAR_EVENT</code></td><td>Triggers when a calendar event is updated via the Admin console.</td></tr><tr><td><code>CHECKLIST_QUESTION_ANSWER_CHANGED</code></td><td>Triggers when a checklist question answer is changed. Must be used with Notification Criteria to specify the question and required answer.</td></tr><tr><td><code>NAR_START_TIME_REMINDER</code></td><td>Triggers when the template&#x27;s Start and End threshold based on the NAR&#x27;s start time is reached.</td></tr><tr><td><code>NAR_END_TIME_REMINDER</code></td><td>Triggers when the template&#x27;s Start and End threshold based on the NAR&#x27;s end time is reached.</td></tr><tr><td><code>RESCHEDULE_NAR</code></td><td>Triggers when a NAR is Rescheduled.</td></tr><tr><td><code>SUBMIT_NAR_RESCHEDULE</code></td><td>Triggers when a NAR is resubmitted from Rescheduling.</td></tr><tr><td><code>ACCEPT_NAR_RESCHEDULE</code></td><td>Triggers when a NAR is accepted from Resubmitted.</td></tr><tr><td><code>NAR_FORCED_STATE_TRANSITION</code></td><td>Triggers when a NAR is moved to a state it should not have been allowed to. Typically used when a Rescheduling NAR is transitioned to DMS Switching Commenced via the DMS interface.</td></tr><tr><td><code>REJECT_RESUBMITTED_NAR</code></td><td>Triggers when a Resubmitted NAR is rejected/declined.</td></tr></tbody></table><h2 id="email-template-tags">Email Template Tags</h2><p>When creating HTML email templates, special tags can be used to insert data from NARs into both the email subject line and email body. These tags are identified in the code by surrounding them with 3 pairs of braces: <code>{{{tag}}}</code>.</p><p>Included below is a list of available tags and their descriptions. More information and examples on the use of these tags is included underneath.</p><h3 id="nar-tags">NAR Tags</h3><table><thead><tr><th>Prefix</th><th>Tag</th><th>Description</th></tr></thead><tbody><tr><td><code>nar</code></td><td><code>id</code></td><td>The ID of the NAR.</td></tr><tr><td><code>nar</code></td><td><code>state</code></td><td>The state of the NAR. This refers to the new state of the NAR.</td></tr><tr><td><code>nar</code></td><td><code>startDateTime</code></td><td>The start date and time of the NAR.</td></tr><tr><td><code>nar</code></td><td><code>endDateTime</code></td><td>The end date and time of the NAR</td></tr><tr><td><code>nar</code></td><td><code>alternateStartDateTime</code></td><td>The alternate start date and time of the NAR.</td></tr><tr><td><code>nar</code></td><td><code>alternateEndDateTime</code></td><td>The alternate end date and time of the NAR</td></tr><tr><td><code>nar</code></td><td><code>jobType</code></td><td>The Job Type (or Switching Type) of the NAR.</td></tr><tr><td><code>nar</code></td><td><code>accessType</code></td><td>The Access Type of the NAR.</td></tr><tr><td><code>nar</code></td><td><code>planningArea</code></td><td>The Planning Area name of the NAR.</td></tr><tr><td><code>nar</code></td><td><code>controlDesk</code></td><td>The Control Desk name of the NAR.</td></tr><tr><td><code>nar</code></td><td><code>planningAreaEmail</code></td><td>The Planning Area email of the NAR.</td></tr><tr><td><code>nar</code></td><td><code>controlDeskEmail</code></td><td>The Control Desk email of the NAR.</td></tr><tr><td><code>nar</code></td><td><code>primaryFeeder</code></td><td>The Primary Feeder listed on the NAR.</td></tr><tr><td><code>nar</code></td><td><code>location</code></td><td>The location of the NAR.</td></tr><tr><td><code>nar</code></td><td><code>workType</code></td><td>The work type listed on the NAR.</td></tr><tr><td><code>nar</code></td><td><code>dmsId</code></td><td>The ID of the DMS job associated with the NAR.</td></tr><tr><td><code>nar</code></td><td><code>depot</code></td><td>The name of the depot associated with the NAR.</td></tr><tr><td><code>nar</code></td><td><code>region</code></td><td>The name of the region of the depot associated with the NAR.</td></tr><tr><td><code>nar</code></td><td><code>organisation</code></td><td>The name and details of the organisation associated with the NAR. See <a href="#organisation-tags">Organisation Tags</a>.</td></tr><tr><td><code>nar</code></td><td><code>customerNotificationTasks</code></td><td>The customer notification tasks belonging to the NAR. See <a href="#customer-notification-task-tags">Notification Task Tags</a>.</td></tr><tr><td><code>nar</code></td><td><code>accessAuthorities</code></td><td>The access authorities belonging to a NAR. See <a href="#access-authority-tags">Access Authority Tags</a>.</td></tr><tr><td><code>url</code></td><td><code>ednar</code></td><td>The base URL of EDNAR as configured in the <a href="./app-options">App Options</a>.</td></tr><tr><td><code>url</code></td><td><code>nar</code></td><td>The URL of the NAR.</td></tr><tr><td><code>url</code></td><td><code>narReport</code></td><td>The base URL of the NAR Report PDF print-out. Note that you will need to include the URL report parameters as well (see example below).</td></tr><tr><td></td><td><code>actionComment</code></td><td>The comment left when the triggering action was performed (if available).</td></tr><tr><td></td><td><code>actionReasons</code></td><td>The reason provided when the triggering action was performed (if available).</td></tr></tbody></table><h3 id="users">Users</h3><p>These tags each reference a specific user (or users) related to the NAR. The user details that can be accessed with each tag are the same, and are included underneath.</p><table><thead><tr><th>User Tag</th><th>Description</th></tr></thead><tbody><tr><td><code>nar.planners</code></td><td>The user(s) that are assigned as Planners on the NAR. This tag will return details for each Planner user assigned on the NAR.</td></tr><tr><td><code>recipient</code></td><td>The user that is receiving the email. If the email is sent to multiple people, these details will be specific to each recipient.</td></tr><tr><td><code>actionUser</code></td><td>The user that performed the action that triggered the notification.</td></tr></tbody></table><h4 id="user-details-tags">User Details tags</h4><p>These tags can be used for each of the above user types.</p><table><thead><tr><th>Tag</th><th>Description</th></tr></thead><tbody><tr><td><code>firstName</code></td><td>The first name of the user.</td></tr><tr><td><code>lastName</code></td><td>The last name of the user.</td></tr><tr><td><code>email</code></td><td>The email address of the user.</td></tr><tr><td><code>mobile</code></td><td>The mobile number of the user.</td></tr><tr><td><code>phone</code></td><td>The phone number of the user.</td></tr></tbody></table><h4 id="organisation-tags">Organisation tags</h4><p>These tags can be used for the Organisation of the NAR.</p><table><thead><tr><th>Tag</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td>Name of the organisation</td></tr><tr><td><code>description</code></td><td>Description of the organisation.</td></tr><tr><td><code>colour1</code></td><td>Primary (inner) colour for the organisation as a hex code.</td></tr><tr><td><code>colour2</code></td><td>Secondary (outer) colour for the organisation as a hex code.</td></tr></tbody></table><h4 id="customer-notification-task-tags">Customer Notification Task tags</h4><p>These tags can be used for the customer notification tasks on a NAR.</p><table><thead><tr><th>Tag</th><th>Description</th></tr></thead><tbody><tr><td><code>outageType</code></td><td>Outage Type of the task</td></tr><tr><td><code>description</code></td><td>Description of the task</td></tr><tr><td><code>outageStart</code></td><td>Outage Start time of the task</td></tr><tr><td><code>outageEnd</code></td><td>Outage End time of the task</td></tr><tr><td><code>deliveryMethod</code></td><td>Delivery Method of the task</td></tr><tr><td><code>orderStatus</code></td><td>Order Status of the task</td></tr><tr><td><code>saidiMinutes</code></td><td>SAIDI/CMOS value of the task</td></tr><tr><td><code>nmis</code></td><td>List of NMIs included in the task</td></tr></tbody></table><h4 id="access-authority-tags">Access Authority tags</h4><p>These tags can be used for the access authorities on a NAR.</p><table><thead><tr><th>Tag</th><th>Description</th></tr></thead><tbody><tr><td><code>authorityType</code></td><td>Type of the access authority</td></tr><tr><td><code>apparatusToBeCoveredInfo</code></td><td>Free-text description field text for the authority&#x27;s Apparatus to be Covered.</td></tr><tr><td><code>isolationPointsInfo</code></td><td>Free-text description field text for the authority&#x27;s Isolation Points</td></tr><tr><td><code>protectionDevicesInfo</code></td><td>Free-text description field text for the authority&#x27;s Protection Devices.</td></tr><tr><td><code>recallTime</code></td><td>Recall time for the authority in minutes</td></tr><tr><td><code>workToBeDone</code></td><td>Work to be Done field of the authority</td></tr><tr><td><code>requiresSpecialRequirements</code></td><td>True/False flag for if Special Requirements are required for the authority</td></tr><tr><td><code>specialRequirements</code></td><td>Special Requirements text field of the authority</td></tr><tr><td><code>networkOperatorRequired</code></td><td>True/False flag for if a network operator is required on the authority</td></tr><tr><td><code>locationOfPermitIssue</code></td><td>Location of Permit Issue field on the authority</td></tr><tr><td><code>toBeIssuedToUser</code></td><td>Username or text of the To Be Issued To field on the authority</td></tr><tr><td><code>issueDateTime</code></td><td>Issue Date Time for the authority</td></tr><tr><td><code>cancelDateTime</code></td><td>Cancel Date Time for the authority</td></tr><tr><td><code>operators</code></td><td>List of Operators assigned to the authority. See <a href="#network-operator-tags">Network Operator Tags</a>.</td></tr></tbody></table><h4 id="network-operator-tags">Network Operator tags</h4><p>These tags can be used for the network operators on an access authority.</p><table><thead><tr><th>Tag</th><th>Description</th></tr></thead><tbody><tr><td><code>firstName</code></td><td>First name of the operator</td></tr><tr><td><code>lastName</code></td><td>Last name of the r</td></tr><tr><td><code>note</code></td><td>Note/comment included when operator was assigned.</td></tr></tbody></table><h3 id="ical-tags">iCal Tags</h3><p>These tags can be used to create pre-formatted iCal (.ics) files and attach them to the email notifications. Note that these tags must follow the exact pattern specified here, and cannot be used as freely as other tags.</p><table><thead><tr><th>Tag</th><th>Description</th></tr></thead><tbody><tr><td><code>{{nar.iCal}}</code></td><td>iCal generated with the NAR details. Uses NAR&#x27;s start and end times for event times.</td></tr><tr><td><code>{{nar.accessAuthoritiesiCal}}</code></td><td>iCal generated with the details of an Access Authority, one file per authority on the NAR. Uses authority&#x27;s issue and cancel times for event times.</td></tr><tr><td><code>{{nar.customerNotificationTasksiCal}}</code></td><td>iCal generated with the details of a Customer Notification Task, one file per task on the NAR. Uses task&#x27;s on and off times for event times.</td></tr></tbody></table><h3 id="tag-usage">Tag Usage</h3><p>There are two main ways in which the tags can be used in the HTML templates. The first is by using the format <code>{{{prefix.tag}}}</code>. </p><p>The second is with opening and closing tags, with the value tags included between. When using this method, only 2 braces are required around the opening and closing tags. <br>
The format for this is: <code>{{#openingTag}} {{{tag}}} {{{anotherTag}}} {{/closingTag}}</code>. This is useful where there are multiple fields required from the same source.</p><h4 id="example-template">Example Template</h4><pre><code class="language-html">&lt;table style=&quot;width: 601px;&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td colspan=&quot;2&quot;&gt;&lt;strong&gt;{{{nar.primaryFeeder}}} : {{{nar.location}}} : {{{nar.workType}}}&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;From:&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;{{{nar.startDateTime}}}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;To:&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;{{{nar.endDateTime}}}&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2&gt;&lt;span&gt;&lt;strong&gt;NAR {{{nar.id}}} has been {{{nar.state}}}&lt;/strong&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;table style=&quot;width: 450px;&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td colspan=&quot;2&quot;&gt;&lt;strong&gt;{{{nar.state}}} by: &lt;/strong&gt; {{#actionUser}}{{{firstName}}} {{{lastName}}}{{/actionUser}}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Email:&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;{{#actionUser}}{{{email}}}{{/actionUser}}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Phone:&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;{{#actionUser}}{{{phone}}}{{/actionUser}}&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;Mobile:&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;{{#actionUser}}{{{mobile}}}{{/actionUser}}&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table style=&quot;width: 595px;&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;br /&gt;&lt;strong&gt;{{#recipient}}{{{firstName}}} {{{lastName}}}{{/recipient}}&lt;/strong&gt;, you are receiving this email because you have been assigned as an &lt;strong&gt;Authorised Applicant&lt;/strong&gt; in this Network Access Request.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;For any queries please contact the&lt;strong&gt; {{{nar.planningArea}}}&lt;/strong&gt; planning area.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table style=&quot;width: 444px;&quot;&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;br /&gt;View NAR:&lt;/td&gt;
&lt;td&gt;&lt;br /&gt;&lt;a href=&quot;{{{url.nar}}}&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;NAR {{{nar.id}}}&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;NAR PDF:&lt;/td&gt;
&lt;td&gt;&lt;a href=&quot;{{{url.narReport}}}?includeFile=CUSTOMER_LISTS&amp;includeFile=CHECKED_ATTACHMENTS&amp;includeFile=NAR_SUMMARY&amp;includeFile=SWITCHING_SCHEDULE&quot;&gt;NAR {{{nar.id}}} PDF&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;This Email has been generated automatically. &lt;br /&gt;Please do not reply to this email.&lt;br /&gt;Emails sent to this address cannot be answered.&lt;/p&gt;
       

</code></pre><p>The above template when sent as an email:</p><p><img alt="Email" src="/ednar/docs/admin/assets/images/email-f768627d58ba47ad7856185983afd898.png"></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/zepben/versioned_docs/version-5.20.0/templates.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/ednar/docs/admin/5.20.0/criteria"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Criteria</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/ednar/docs/admin/5.20.0/target-groups"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Target Groups Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#configuring-templates" class="table-of-contents__link">Configuring Templates</a></li><li><a href="#notification-template-actions" class="table-of-contents__link">Notification Template Actions</a></li><li><a href="#email-template-tags" class="table-of-contents__link">Email Template Tags</a><ul><li><a href="#nar-tags" class="table-of-contents__link">NAR Tags</a></li><li><a href="#users" class="table-of-contents__link">Users</a></li><li><a href="#ical-tags" class="table-of-contents__link">iCal Tags</a></li><li><a href="#tag-usage" class="table-of-contents__link">Tag Usage</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 Zeppelin Bend Pty. Ltd.</div></div></div></footer></div>
<script src="/ednar/docs/admin/styles.b7cb95d6.js"></script>
<script src="/ednar/docs/admin/runtime~main.3990b0b8.js"></script>
<script src="/ednar/docs/admin/main.44a79404.js"></script>
<script src="/ednar/docs/admin/2.7f5987b9.js"></script>
<script src="/ednar/docs/admin/208.dea70478.js"></script>
<script src="/ednar/docs/admin/212.19698e65.js"></script>
<script src="/ednar/docs/admin/57b9b438.05e572c0.js"></script>
<script src="/ednar/docs/admin/207.e31a9e8d.js"></script>
<script src="/ednar/docs/admin/8a6e61b5.3b567ba6.js"></script>
</body>
</html>