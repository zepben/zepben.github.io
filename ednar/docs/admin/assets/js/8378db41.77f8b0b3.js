"use strict";(self.webpackChunkednar_admin_docs=self.webpackChunkednar_admin_docs||[]).push([[8128],{3905:function(t,e,n){n.d(e,{Zo:function(){return d},kt:function(){return m}});var r=n(7294);function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,r,l=function(t,e){if(null==t)return{};var n,r,l={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(l[n]=t[n]);return l}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}var u=r.createContext({}),p=function(t){var e=r.useContext(u),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},d=function(t){var e=p(t.components);return r.createElement(u.Provider,{value:e},t.children)},k="mdxType",s={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},b=r.forwardRef((function(t,e){var n=t.components,l=t.mdxType,a=t.originalType,u=t.parentName,d=o(t,["components","mdxType","originalType","parentName"]),k=p(n),b=l,m=k["".concat(u,".").concat(b)]||k[b]||s[b]||a;return n?r.createElement(m,i(i({ref:e},d),{},{components:n})):r.createElement(m,i({ref:e},d))}));function m(t,e){var n=arguments,l=e&&e.mdxType;if("string"==typeof t||l){var a=n.length,i=new Array(a);i[0]=b;var o={};for(var u in e)hasOwnProperty.call(e,u)&&(o[u]=e[u]);o.originalType=t,o[k]="string"==typeof t?t:l,i[1]=o;for(var p=2;p<a;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}b.displayName="MDXCreateElement"},4088:function(t,e,n){n.r(e),n.d(e,{assets:function(){return d},contentTitle:function(){return u},default:function(){return m},frontMatter:function(){return o},metadata:function(){return p},toc:function(){return k}});var r=n(7462),l=n(3366),a=(n(7294),n(3905)),i=["components"],o={id:"graphql",title:"GraphQL API",slug:"/api/graphql",hide_table_of_contents:!0},u=void 0,p={unversionedId:"api/graphql",id:"version-6.3.0/api/graphql",title:"GraphQL API",description:"EDNAR has a GraphQL accessible at POST /api/v1/graphql. Queries can be made to this API using",source:"@site/versioned_docs/version-6.3.0/api/graphql.mdx",sourceDirName:"api",slug:"/api/graphql",permalink:"/ednar/docs/admin/6.3.0/api/graphql",draft:!1,tags:[],version:"6.3.0",frontMatter:{id:"graphql",title:"GraphQL API",slug:"/api/graphql",hide_table_of_contents:!0},sidebar:"version-6.3.0-sidebar",previous:{title:"Notification Events",permalink:"/ednar/docs/admin/6.3.0/api/notifications"},next:{title:"Database Config Schema",permalink:"/ednar/docs/admin/6.3.0/config-schema"}},d={},k=[],s={toc:k},b="wrapper";function m(t){var e=t.components,n=(0,l.Z)(t,i);return(0,a.kt)(b,(0,r.Z)({},s,n,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"EDNAR has a GraphQL accessible at ",(0,a.kt)("strong",{parentName:"p"},"POST")," ",(0,a.kt)("inlineCode",{parentName:"p"},"/api/v1/graphql"),". Queries can be made to this API using\n",(0,a.kt)("a",{parentName:"p",href:"https://graphql.org/learn/queries/"},"GraphQL query syntax"),"."),(0,a.kt)("p",null,"EDNAR's GraphQL API is largely self-documenting through the\n",(0,a.kt)("a",{parentName:"p",href:"https://graphql.org/learn/introspection/"},"GraphQL introspection system"),". However, below is a list of some of the available queries\nand mutations, their arguments, available fields, and an example query for each. This should provide a good starting\npoint to using the GraphQL API."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Query"),(0,a.kt)("th",{parentName:"tr",align:null},"Arguments"),(0,a.kt)("th",{parentName:"tr",align:null},"Available Fields (top level)"),(0,a.kt)("th",{parentName:"tr",align:null},"Example Query"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"getNar"),(0,a.kt)("td",{parentName:"tr",align:null},"id: Long"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"id"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"state"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"locks"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"accessType"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"jobType"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"primaryEquipmentContainer"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"location"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"workType"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"startDateTime"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"endDateTime"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"alternateStartDateTime"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"alternateEndDateTime"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"hasCustomerNotification"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"questions"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"participants"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"interestedParties"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"attachments"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"comments"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"accessAuthorities"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"customerNotificationTasks"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"planningArea"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"controlDesk"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"narTransitions"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"planners"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"lastUpdatedAt"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"clashDetectionTimestamp"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"annotation"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"peekBranchId"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"dmsSwitchingDetails"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"lvSwitchingSteps"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"generators"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"additionalEqContainers"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"accessReason"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"linkedNars")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("pre",null,"{",(0,a.kt)("br",null),"  getNar(id: 1) {",(0,a.kt)("br",null),"    id",(0,a.kt)("br",null),"    location",(0,a.kt)("br",null),"    startDateTime",(0,a.kt)("br",null),"    endDateTime",(0,a.kt)("br",null),"    accessAuthorities {",(0,a.kt)("br",null),"      id",(0,a.kt)("br",null),"      workToBeDone",(0,a.kt)("br",null),"      apparatusToBeCovered {",(0,a.kt)("br",null),"        assetId",(0,a.kt)("br",null),"        lngLats {",(0,a.kt)("br",null),"          latitude",(0,a.kt)("br",null),"          longitude",(0,a.kt)("br",null),"        }",(0,a.kt)("br",null),"      }",(0,a.kt)("br",null),"    }",(0,a.kt)("br",null),"  }",(0,a.kt)("br",null),"}"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"searchNars"),(0,a.kt)("td",{parentName:"tr",align:null},"criteria: NAR Search Statement object",(0,a.kt)("br",null)," pageNumber: Integer",(0,a.kt)("br",null),"pageSize: Integer",(0,a.kt)("br",null),"sortField: ",(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"ID")," ",(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"NAR_STATE")," ",(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"START_DATE_TIME")," ",(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"END_DATE_TIME"),(0,a.kt)("br",null),"sortOrder: ",(0,a.kt)("inlineCode",{parentName:"td"},"ASC"),"/",(0,a.kt)("inlineCode",{parentName:"td"},"DESC")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"pageNumber"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"pageSize"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"sortField"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"sortOrder"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"totalResultCount"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"results")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("pre",null,"{",(0,a.kt)("br",null),"  getNarComments(narId: 61, pageNumber: 0, pageSize: 100, sortOrder: ASC) {",(0,a.kt)("br",null),"    totalResultCount",(0,a.kt)("br",null),"    results {",(0,a.kt)("br",null),"      commentText",(0,a.kt)("br",null),"      user {",(0,a.kt)("br",null),"        firstName",(0,a.kt)("br",null),"        lastName",(0,a.kt)("br",null),"      }",(0,a.kt)("br",null),"    }",(0,a.kt)("br",null),"  }",(0,a.kt)("br",null),"}"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"getNarComments"),(0,a.kt)("td",{parentName:"tr",align:null},"narId: Long",(0,a.kt)("br",null),"pageNumber: Integer",(0,a.kt)("br",null),"pageSize: Integer",(0,a.kt)("br",null),"sortOrder: ",(0,a.kt)("inlineCode",{parentName:"td"},"ASC"),"/",(0,a.kt)("inlineCode",{parentName:"td"},"DESC")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"pageNumber"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"pageSize"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"totalResultCount"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"results"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"sortOrder"),(0,a.kt)("br",null),(0,a.kt)("inlineCode",{parentName:"td"},"pinnedComments")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("pre",null,"{",(0,a.kt)("br",null),"  searchNars(",(0,a.kt)("br",null),"    criteria: {",(0,a.kt)("br",null),"      expression: {",(0,a.kt)("br",null),"        operator: AND",(0,a.kt)("br",null),"        operands: ","[",(0,a.kt)("br",null),"          {",(0,a.kt)("br",null),"            criteria: {",(0,a.kt)("br",null),"              field: NAR_STATE",(0,a.kt)("br",null),"              comparator: EQ",(0,a.kt)("br",null),'              value: { stringValue: "DRAFT" }',(0,a.kt)("br",null),"            }",(0,a.kt)("br",null),"          }",(0,a.kt)("br",null),"          {",(0,a.kt)("br",null),"            criteria: {",(0,a.kt)("br",null),"              field: NAR_QUESTION",(0,a.kt)("br",null),"              comparator: EQ",(0,a.kt)("br",null),'              value: { questionValue: { id: 8, answer: "true" } }',(0,a.kt)("br",null),"            }",(0,a.kt)("br",null),"          }",(0,a.kt)("br",null),"        ]",(0,a.kt)("br",null),"      }",(0,a.kt)("br",null),"    }",(0,a.kt)("br",null),"    pageNumber: 0",(0,a.kt)("br",null),"    pageSize: 4",(0,a.kt)("br",null),"  ) {",(0,a.kt)("br",null),"    pageNumber",(0,a.kt)("br",null),"    pageSize",(0,a.kt)("br",null),"    sortField",(0,a.kt)("br",null),"    sortOrder",(0,a.kt)("br",null),"    results {",(0,a.kt)("br",null),"      id",(0,a.kt)("br",null),"      state {",(0,a.kt)("br",null),"        name",(0,a.kt)("br",null),"      }",(0,a.kt)("br",null),"    }",(0,a.kt)("br",null),"  }",(0,a.kt)("br",null),"}"))))))}m.isMDXComponent=!0}}]);